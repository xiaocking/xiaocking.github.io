(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{521:function(s,t,n){s.exports=n.p+"assets/img/endpoint.1e06944b.png"},697:function(s,t,n){"use strict";n.r(t);var e=n(2),a=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"使用-cdn-加载项目静态资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-cdn-加载项目静态资源"}},[s._v("#")]),s._v(" 使用 CDN 加载项目静态资源")]),s._v(" "),t("h2",{attrs:{id:"使用环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用环境"}},[s._v("#")]),s._v(" 使用环境")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("系统：CentOS Linux release "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.5")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1804")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CDN")]),s._v("服务器：阿里云服务器oss服务\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CDN")]),s._v("软件版本：ossutil"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.18")]),s._v("\n")])])]),t("p",[t("a",{attrs:{href:"https://help.aliyun.com/document_detail/50452.html?spm=5176.8465980.0.dexternal.4e701450c5SNFh#concept-cnr-3d4-vdb",target:"_blank",rel:"noopener noreferrer"}},[s._v("阿里云命令行方式管理OSS数据工具ossutil"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://help.aliyun.com/document_detail/120075.html?spm=a2c4g.11186623.2.9.8b431c7aPWZdpA#concept-303829",target:"_blank",rel:"noopener noreferrer"}},[s._v("ossutil下载安装文档"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"快速安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速安装"}},[s._v("#")]),s._v(" 快速安装")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Linux-x64系统")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1、下载官方工具")]),s._v("\nwget http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//gosspublic.alicdn.com/ossutil/1.6.18/ossutil64\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2、修改文件执行权限")]),s._v("\nchmod 755 ossutil64\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3、使用交互式配置生成配置文件")]),s._v("\n./ossutil64 config\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 请输入配置文件名，文件名可以带路径（默认为：/root/.ossutilconfig，回车将使用默认路径。如果用户设置为其它路径，在使用命令时需要将--config-file选项设置为该路径）：")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 未输入配置文件路径，将使用默认配置文件：/root/.ossutilconfig。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 对于下述配置，回车将跳过相关配置项的设置，配置项的具体含义，请使用"help config"命令查看。')]),s._v("\n\n1、请输入语言：CH\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语言(CH/EN)，默认为：EH，该配置项将在此次config命令成功结束后生效")]),s._v("\n\n2、请输入endpoint：http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//oss"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("cn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("shenzhen.aliyuncs.com\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# endpoint：必填项。填写Bucket所在地域的域名信息，可参见访问域名和数据中心。")]),s._v("\n\n3、请输入accessKeyID：你的AccessKeyID\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# accessKeyID：必填项。查看方式请参见创建AccessKey。")]),s._v("\n\n4、请输入accessKeySecret：你的AccessKeySecret\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# accessKeySecret：必填项。查看方式请参见创建AccessKey。")]),s._v("\n\n5、请输入stsToken：\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# stsToken：非必配项，若采用STS临时授权方式访问OSS需要配置该项，否则置空即可。stsToken生成方式参见临时访问凭证。")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("endpoint参数获取需进入oss服务器管理控制台、参考下图\n本次选择"),t("code",[s._v("oss-cn-shenzhen.aliyuncs.com")]),s._v("(需添加http前缀)")])]),s._v(" "),t("p",[t("img",{attrs:{src:n(521),alt:"endpoint"}})]),s._v(" "),t("h2",{attrs:{id:"使用ossutil"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用ossutil"}},[s._v("#")]),s._v(" 使用ossutil")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传前删除服务器旧资源目录。本项目打包使用了hash后缀，为防止占用服务器内存，故先清除旧资源，看个人需求执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ossutil命令 rm 为删除")]),s._v("\n/root/.ossutil64 rm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("rf oss"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//xxx/pc（xx为远程oss服务器)\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 上传本次打包的静态资源文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ossutil命令 cp 为上传、拷贝")]),s._v("\n/root/.ossutil64 cp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("rf 本地静态资源路径/dist(本地静态资源目录) oss"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//xxx/pc（xx为远程oss服务器)\n")])])]),t("p",[t("a",{attrs:{href:"https://help.aliyun.com/document_detail/50452.html?spm=a2c4g.11186623.6.732.7ff8448aruxWX3",target:"_blank",rel:"noopener noreferrer"}},[s._v("ossutil常用命令"),t("OutboundLink")],1)]),s._v(" "),t("blockquote",[t("p",[s._v("如果项目使用了持续集成 可以将上面两句shell添加到持续集成脚本中，实现项目打包完成后，自动将静态资源上传到CDN资源服务器中")])])])}),[],!1,null,null,null);t.default=a.exports}}]);