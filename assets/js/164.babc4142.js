(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{669:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"tsconfig-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tsconfig-json"}},[t._v("#")]),t._v(" tsconfig.json")]),t._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[s("code",[t._v("tsconfig.json")]),t._v("是 TypeScript 项目的配置文件，放在项目的根目录。反过来说，如果一个目录里面有"),s("code",[t._v("tsconfig.json")]),t._v("，TypeScript 就认为这是项目的根目录。")]),t._v(" "),s("p",[t._v("如果项目源码是 JavaScript，但是想用 TypeScript 处理，那么配置文件的名字是"),s("code",[t._v("jsconfig.json")]),t._v("，它跟"),s("code",[t._v("tsconfig")]),t._v("的写法是一样的。")]),t._v(" "),s("p",[s("code",[t._v("tsconfig.json")]),t._v("文件主要供"),s("code",[t._v("tsc")]),t._v("编译器使用，它的命令行参数"),s("code",[t._v("--project")]),t._v("或"),s("code",[t._v("-p")]),t._v("可以指定"),s("code",[t._v("tsconfig.json")]),t._v("的位置（目录或文件皆可）。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ tsc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" ./dir\n")])])]),s("p",[t._v("如果不指定配置文件的位置，"),s("code",[t._v("tsc")]),t._v("就会在当前目录下搜索"),s("code",[t._v("tsconfig.json")]),t._v("文件，如果不存在，就到上一级目录搜索，直到找到为止。")]),t._v(" "),s("p",[s("code",[t._v("tsconfig.json")]),t._v("文件的格式，是一个 JSON 对象，最简单的情况可以只放置一个空对象"),s("code",[t._v("{}")]),t._v("。下面是一个示例。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"outDir"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./built"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowJs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es5"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"include"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/**/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("本章后面会详细介绍"),s("code",[t._v("tsconfig.json")]),t._v("的各个属性，这里简单说一下，上面示例的四个属性的含义。")]),t._v(" "),s("ul",[s("li",[t._v("include：指定哪些文件需要编译。")]),t._v(" "),s("li",[t._v("allowJs：指定源目录的 JavaScript 文件是否原样拷贝到编译后的目录。")]),t._v(" "),s("li",[t._v("outDir：指定编译产物存放的目录。")]),t._v(" "),s("li",[t._v("target：指定编译产物的 JS 版本。")])]),t._v(" "),s("p",[s("code",[t._v("tsconfig.json")]),t._v("文件可以不必手写，使用 tsc 命令的"),s("code",[t._v("--init")]),t._v("参数自动生成。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ tsc "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--init")]),t._v("\n")])])]),s("p",[t._v("上面命令生成的"),s("code",[t._v("tsconfig.json")]),t._v("文件，里面会有一些默认配置。")]),t._v(" "),s("p",[t._v("你也可以使用别人预先写好的 tsconfig.json 文件，npm 的"),s("code",[t._v("@tsconfig")]),t._v("名称空间下面有很多模块，都是写好的"),s("code",[t._v("tsconfig.json")]),t._v("样本，比如 "),s("code",[t._v("@tsconfig/recommended")]),t._v("和"),s("code",[t._v("@tsconfig/node16")]),t._v("。")]),t._v(" "),s("p",[t._v("这些模块需要安装，以"),s("code",[t._v("@tsconfig/deno")]),t._v("为例。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev @tsconfig/deno\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--dev")]),t._v(" @tsconfig/deno\n")])])]),s("p",[t._v("安装以后，就可以在"),s("code",[t._v("tsconfig.json")]),t._v("里面引用这个模块，相当于继承它的设置，然后进行扩展。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extends"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@tsconfig/deno/tsconfig.json"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("@tsconfig")]),t._v("空间下包含的完整 tsconfig 文件目录，可以查看 "),s("a",{attrs:{href:"https://github.com/tsconfig/bases/tree/main/bases",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("tsconfig.json")]),t._v("的一级属性并不多，只有很少几个，但是"),s("code",[t._v("compilerOptions")]),t._v("属性有很多二级属性。下面先逐一介绍一级属性，然后再介绍"),s("code",[t._v("compilerOptions")]),t._v("的二级属性，按照首字母排序。")]),t._v(" "),s("h2",{attrs:{id:"exclude"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exclude"}},[t._v("#")]),t._v(" exclude")]),t._v(" "),s("p",[s("code",[t._v("exclude")]),t._v("属性是一个数组，必须与"),s("code",[t._v("include")]),t._v("属性一起使用，用来从编译列表中去除指定的文件。它也支持使用与"),s("code",[t._v("include")]),t._v("属性相同的通配符。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"include"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"exclude"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/*.spec.ts"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"extends"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extends"}},[t._v("#")]),t._v(" extends")]),t._v(" "),s("p",[s("code",[t._v("tsconfig.json")]),t._v("可以继承另一个"),s("code",[t._v("tsconfig.json")]),t._v("文件的配置。如果一个项目有多个配置，可以把共同的配置写成"),s("code",[t._v("tsconfig.base.json")]),t._v("，其他的配置文件继承该文件，这样便于维护和修改。")]),t._v(" "),s("p",[s("code",[t._v("extends")]),t._v("属性用来指定所要继承的配置文件。它可以是本地文件。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extends"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../tsconfig.base.json"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("如果"),s("code",[t._v("extends")]),t._v("属性指定的路径不是以"),s("code",[t._v("./")]),t._v("或"),s("code",[t._v("../")]),t._v("开头，那么编译器将在"),s("code",[t._v("node_modules")]),t._v("目录下查找指定的配置文件。")]),t._v(" "),s("p",[s("code",[t._v("extends")]),t._v("属性也可以继承已发布的 npm 模块里面的 tsconfig 文件。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extends"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@tsconfig/node12/tsconfig.json"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("extends")]),t._v("指定的"),s("code",[t._v("tsconfig.json")]),t._v("会先加载，然后加载当前的"),s("code",[t._v("tsconfig.json")]),t._v("。如果两者有重名的属性，后者会覆盖前者。")]),t._v(" "),s("h2",{attrs:{id:"files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#files"}},[t._v("#")]),t._v(" files")]),t._v(" "),s("p",[s("code",[t._v("files")]),t._v("属性指定编译的文件列表，如果其中有一个文件不存在，就会报错。")]),t._v(" "),s("p",[t._v("它是一个数组，排在前面的文件先编译。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"files"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a.ts"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b.ts"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("该属性必须逐一列出文件，不支持文件匹配。如果文件较多，建议使用"),s("code",[t._v("include")]),t._v("和"),s("code",[t._v("exclude")]),t._v("属性。")]),t._v(" "),s("h2",{attrs:{id:"include"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#include"}},[t._v("#")]),t._v(" include")]),t._v(" "),s("p",[s("code",[t._v("include")]),t._v("属性指定所要编译的文件列表，既支持逐一列出文件，也支持通配符。文件位置相对于当前配置文件而定。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"include"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tests/**/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("include")]),t._v("属性支持三种通配符。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("?")]),t._v("：指代单个字符")]),t._v(" "),s("li",[s("code",[t._v("*")]),t._v("：指代任意字符，不含路径分隔符")]),t._v(" "),s("li",[s("code",[t._v("**")]),t._v("：指定任意目录层级。")])]),t._v(" "),s("p",[t._v("如果不指定文件后缀名，默认包括"),s("code",[t._v(".ts")]),t._v("、"),s("code",[t._v(".tsx")]),t._v("和"),s("code",[t._v(".d.ts")]),t._v("文件。如果打开了"),s("code",[t._v("allowJs")]),t._v("，那么还包括"),s("code",[t._v(".js")]),t._v("和"),s("code",[t._v(".jsx")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"references"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" references")]),t._v(" "),s("p",[s("code",[t._v("references")]),t._v("属性是一个数组，数组成员为对象，适合一个大项目由许多小项目构成的情况，用来设置需要引用的底层项目。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"references"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../pkg1"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../pkg2/tsconfig.json"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("references")]),t._v("数组成员对象的"),s("code",[t._v("path")]),t._v("属性，既可以是含有文件"),s("code",[t._v("tsconfig.json")]),t._v("的目录，也可以直接是该文件。")]),t._v(" "),s("p",[t._v("与此同时，引用的底层项目的"),s("code",[t._v("tsconfig.json")]),t._v("必须启用"),s("code",[t._v("composite")]),t._v("属性。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"composite"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"compileoptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compileoptions"}},[t._v("#")]),t._v(" compileOptions")]),t._v(" "),s("p",[s("code",[t._v("compilerOptions")]),t._v("属性用来定制编译行为。这个属性可以省略，这时编译器将使用默认设置。")]),t._v(" "),s("h3",{attrs:{id:"allowjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#allowjs"}},[t._v("#")]),t._v(" allowJs")]),t._v(" "),s("p",[s("code",[t._v("allowJs")]),t._v("允许 TypeScript 项目加载 JS 脚本。编译时，也会将 JS 文件，一起拷贝到输出目录。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowJs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"alwaysstrict"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alwaysstrict"}},[t._v("#")]),t._v(" alwaysStrict")]),t._v(" "),s("p",[s("code",[t._v("alwaysStrict")]),t._v("确保脚本以 ECMAScript 严格模式进行解析，因此脚本头部不用写"),s("code",[t._v('"use strict"')]),t._v("。它的值是一个布尔值，默认为"),s("code",[t._v("true")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"allowsyntheticdefaultimports"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#allowsyntheticdefaultimports"}},[t._v("#")]),t._v(" allowSyntheticDefaultImports")]),t._v(" "),s("p",[s("code",[t._v("allowSyntheticDefaultImports")]),t._v("允许"),s("code",[t._v("import")]),t._v("命令默认加载没有"),s("code",[t._v("default")]),t._v("输出的模块。")]),t._v(" "),s("p",[t._v("比如，打开这个设置，就可以写"),s("code",[t._v('import React from "react";')]),t._v("，而不是"),s("code",[t._v('import * as React from "react";')]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"allowunreachablecode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#allowunreachablecode"}},[t._v("#")]),t._v(" allowUnreachableCode")]),t._v(" "),s("p",[s("code",[t._v("allowUnreachableCode")]),t._v("设置是否允许存在不可能执行到的代码。它的值有三种可能。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("undefined")]),t._v("： 默认值，编辑器显示警告。")]),t._v(" "),s("li",[s("code",[t._v("true")]),t._v("：忽略不可能执行到的代码。")]),t._v(" "),s("li",[s("code",[t._v("false")]),t._v("：编译器报错。")])]),t._v(" "),s("h3",{attrs:{id:"allowunusedlabels"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#allowunusedlabels"}},[t._v("#")]),t._v(" allowUnusedLabels")]),t._v(" "),s("p",[s("code",[t._v("allowUnusedLabels")]),t._v("设置是否允许存在没有用到的代码标签（label）。它的值有三种可能。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("undefined")]),t._v("： 默认值，编辑器显示警告。")]),t._v(" "),s("li",[s("code",[t._v("true")]),t._v("：忽略没有用到的代码标签。")]),t._v(" "),s("li",[s("code",[t._v("false")]),t._v("：编译器报错。")])]),t._v(" "),s("h3",{attrs:{id:"baseurl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#baseurl"}},[t._v("#")]),t._v(" baseUrl")]),t._v(" "),s("p",[s("code",[t._v("baseUrl")]),t._v("的值为字符串，指定 TypeScript 项目的基准目录。")]),t._v(" "),s("p",[t._v("由于默认是以 tsconfig.json 的位置作为基准目录，所以一般情况不需要使用该属性。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"baseUrl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("上面示例中，"),s("code",[t._v("baseUrl")]),t._v("为当前目录"),s("code",[t._v("./")]),t._v("。那么，当遇到下面的语句，TypeScript 将以"),s("code",[t._v("./")]),t._v("为起点，寻找"),s("code",[t._v("hello/world.ts")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" helloWorld "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello/world"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"checkjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checkjs"}},[t._v("#")]),t._v(" checkJs")]),t._v(" "),s("p",[s("code",[t._v("checkJS")]),t._v("设置对 JS 文件同样进行类型检查。打开这个属性，也会自动打开"),s("code",[t._v("allowJs")]),t._v("。它等同于在 JS 脚本的头部添加"),s("code",[t._v("// @ts-check")]),t._v("命令。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkJs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"composite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#composite"}},[t._v("#")]),t._v(" composite")]),t._v(" "),s("p",[s("code",[t._v("composite")]),t._v("打开某些设置，使得 TypeScript 项目可以进行增量构建，往往跟"),s("code",[t._v("incremental")]),t._v("属性配合使用。")]),t._v(" "),s("h3",{attrs:{id:"declaration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#declaration"}},[t._v("#")]),t._v(" declaration")]),t._v(" "),s("p",[s("code",[t._v("declaration")]),t._v("设置编译时是否为每个脚本生成类型声明文件"),s("code",[t._v(".d.ts")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"declaration"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"declarationdir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#declarationdir"}},[t._v("#")]),t._v(" declarationDir")]),t._v(" "),s("p",[s("code",[t._v("declarationDir")]),t._v("设置生成的"),s("code",[t._v(".d.ts")]),t._v("文件所在的目录。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"declaration"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"declarationDir"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./types"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"declarationmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#declarationmap"}},[t._v("#")]),t._v(" declarationMap")]),t._v(" "),s("p",[s("code",[t._v("declarationMap")]),t._v("设置生成"),s("code",[t._v(".d.ts")]),t._v("类型声明文件的同时，还会生成对应的 Source Map 文件。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"declaration"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"declarationMap"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"emitbom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#emitbom"}},[t._v("#")]),t._v(" emitBOM")]),t._v(" "),s("p",[s("code",[t._v("emitBOM")]),t._v("设置是否在编译结果的文件头添加字节顺序标志 BOM，默认值是"),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"emitdeclarationonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#emitdeclarationonly"}},[t._v("#")]),t._v(" emitDeclarationOnly")]),t._v(" "),s("p",[s("code",[t._v("emitDeclarationOnly")]),t._v("设置编译后只生成"),s("code",[t._v(".d.ts")]),t._v("文件，不生成"),s("code",[t._v(".js")]),t._v("文件。")]),t._v(" "),s("h3",{attrs:{id:"esmoduleinterop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#esmoduleinterop"}},[t._v("#")]),t._v(" esModuleInterop")]),t._v(" "),s("p",[s("code",[t._v("esModuleInterop")]),t._v("修复了一些 CommonJS 和 ES6 模块之间的兼容性问题。")]),t._v(" "),s("p",[t._v("如果"),s("code",[t._v("module")]),t._v("属性为"),s("code",[t._v("node16")]),t._v("或"),s("code",[t._v("nodenext")]),t._v("，则"),s("code",[t._v("esModuleInterop")]),t._v("默认为"),s("code",[t._v("true")]),t._v("，其他情况默认为"),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("p",[t._v("打开这个属性，使用"),s("code",[t._v("import")]),t._v("命令加载 CommonJS 模块时，TypeScript 会严格检查兼容性问题是否存在。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" moment "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'moment'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("moment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 报错")]),t._v("\n")])])]),s("p",[t._v("上面示例中，根据 ES6 规范，"),s("code",[t._v("import * as moment")]),t._v("里面的"),s("code",[t._v("moment")]),t._v("是一个对象，不能当作函数调用，所以第二行报错了。")]),t._v(" "),s("p",[t._v("解决方法就是改写上面的语句，改成加载默认接口。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" moment "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'moment'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("moment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不报错")]),t._v("\n")])])]),s("p",[t._v("打开"),s("code",[t._v("esModuleInterop")]),t._v("以后，如果将上面的代码编译成 CommonJS 模块格式，就会加入一些辅助函数，保证编译后的代码行为正确。")]),t._v(" "),s("p",[t._v("注意，打开"),s("code",[t._v("esModuleInterop")]),t._v("，将自动打开"),s("code",[t._v("allowSyntheticDefaultImports")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"exactoptionalpropertytypes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exactoptionalpropertytypes"}},[t._v("#")]),t._v(" exactOptionalPropertyTypes")]),t._v(" "),s("p",[s("code",[t._v("exactOptionalPropertyTypes")]),t._v("设置可选属性不能赋值为"),s("code",[t._v("undefined")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打开 exactOptionalPropertyTypes")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyObj")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("MyObj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 报错")]),t._v("\n")])])]),s("p",[t._v("上面示例中，"),s("code",[t._v("foo")]),t._v("是可选属性，打开"),s("code",[t._v("exactOptionalPropertyTypes")]),t._v("以后，该属性就不能显式赋值为"),s("code",[t._v("undefined")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"forceconsistentcasinginfilenames"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forceconsistentcasinginfilenames"}},[t._v("#")]),t._v(" forceConsistentCasingInFileNames")]),t._v(" "),s("p",[s("code",[t._v("forceConsistentCasingInFileNames")]),t._v("设置文件名是否为大小写敏感，默认为"),s("code",[t._v("true")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"incremental"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#incremental"}},[t._v("#")]),t._v(" incremental")]),t._v(" "),s("p",[s("code",[t._v("incremental")]),t._v("让 TypeScript 项目构建时产生文件"),s("code",[t._v("tsbuildinfo")]),t._v("，从而完成增量构建。")]),t._v(" "),s("h3",{attrs:{id:"inlinesourcemap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inlinesourcemap"}},[t._v("#")]),t._v(" inlineSourceMap")]),t._v(" "),s("p",[s("code",[t._v("inlineSourceMap")]),t._v("设置将 SourceMap 文件写入编译后的 JS 文件中，否则会单独生成一个"),s("code",[t._v(".js.map")]),t._v("文件。")]),t._v(" "),s("h3",{attrs:{id:"inlinesources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inlinesources"}},[t._v("#")]),t._v(" inlineSources")]),t._v(" "),s("p",[s("code",[t._v("inlineSources")]),t._v("设置将原始的"),s("code",[t._v(".ts")]),t._v("代码嵌入编译后的 JS 中。")]),t._v(" "),s("p",[t._v("它要求"),s("code",[t._v("sourceMap")]),t._v("或"),s("code",[t._v("inlineSourceMap")]),t._v("至少打开一个。")]),t._v(" "),s("h3",{attrs:{id:"isolatedmodules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isolatedmodules"}},[t._v("#")]),t._v(" isolatedModules")]),t._v(" "),s("p",[s("code",[t._v("isolatedModules")]),t._v("设置如果当前 TypeScript 脚本作为单个模块编译，是否会因为缺少其他脚本的类型信息而报错，主要便于非官方的编译工具（比如 Babel）正确编译单个脚本。")]),t._v(" "),s("h3",{attrs:{id:"jsx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsx"}},[t._v("#")]),t._v(" jsx")]),t._v(" "),s("p",[s("code",[t._v("jsx")]),t._v("设置如何处理"),s("code",[t._v(".tsx")]),t._v("文件。它可以取以下五个值。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("preserve")]),t._v("：保持 jsx 语法不变，输出的文件名为"),s("code",[t._v(".jsx")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("react")]),t._v("：将"),s("code",[t._v("<div />")]),t._v("编译成"),s("code",[t._v('React.createElement("div")')]),t._v("，输出的文件名为"),s("code",[t._v(".js")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("react-native")]),t._v("：保持 jsx 语法不变，输出的文件后缀名为"),s("code",[t._v(".js")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("react-jsx")]),t._v("：将"),s("code",[t._v("<div />")]),t._v("编译成"),s("code",[t._v('_jsx("div")')]),t._v("，输出的文件名为"),s("code",[t._v(".js")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("react-jsxdev")]),t._v("：跟"),s("code",[t._v("react-jsx")]),t._v("类似，但是为"),s("code",[t._v("_jsx()")]),t._v("加上更多的开发调试项，输出的文件名为"),s("code",[t._v(".js")]),t._v("。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"jsx"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"preserve"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"lib"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lib"}},[t._v("#")]),t._v(" lib")]),t._v(" "),s("p",[s("code",[t._v("lib")]),t._v("值是一个数组，描述项目需要加载的 TypeScript 内置类型描述文件，跟三斜线指令"),s("code",[t._v('/// <reference lib="" />')]),t._v("作用相同。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lib"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es2021"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("TypeScript 内置的类型描述文件，主要有以下一些，完整的清单可以参考 "),s("a",{attrs:{href:"https://github.com/microsoft/TypeScript/tree/main/src/lib",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeScript 源码"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("ul",[s("li",[t._v("ES5")]),t._v(" "),s("li",[t._v("ES2015")]),t._v(" "),s("li",[t._v("ES6")]),t._v(" "),s("li",[t._v("ES2016")]),t._v(" "),s("li",[t._v("ES7")]),t._v(" "),s("li",[t._v("ES2017")]),t._v(" "),s("li",[t._v("ES2018")]),t._v(" "),s("li",[t._v("ES2019")]),t._v(" "),s("li",[t._v("ES2020")]),t._v(" "),s("li",[t._v("ES2021")]),t._v(" "),s("li",[t._v("ES2022")]),t._v(" "),s("li",[t._v("ESNext")]),t._v(" "),s("li",[t._v("DOM")]),t._v(" "),s("li",[t._v("WebWorker")]),t._v(" "),s("li",[t._v("ScriptHost")])]),t._v(" "),s("h3",{attrs:{id:"listemittedfiles"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#listemittedfiles"}},[t._v("#")]),t._v(" listEmittedFiles")]),t._v(" "),s("p",[s("code",[t._v("listEmittedFiles")]),t._v("设置编译时在终端显示，生成了哪些文件。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"listEmittedFiles"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"listfiles"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#listfiles"}},[t._v("#")]),t._v(" listFiles")]),t._v(" "),s("p",[s("code",[t._v("listFiles")]),t._v("设置编译时在终端显示，参与本次编译的文件列表。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"listFiles"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"maproot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maproot"}},[t._v("#")]),t._v(" mapRoot")]),t._v(" "),s("p",[s("code",[t._v("mapRoot")]),t._v("指定 SourceMap 文件的位置，而不是默认的生成位置。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"sourceMap"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"mapRoot"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://my-website.com/debug/sourcemaps/"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[t._v("#")]),t._v(" module")]),t._v(" "),s("p",[s("code",[t._v("module")]),t._v("指定编译产物的模块格式。它的默认值与"),s("code",[t._v("target")]),t._v("属性有关，如果"),s("code",[t._v("target")]),t._v("是"),s("code",[t._v("ES3")]),t._v("或"),s("code",[t._v("ES5")]),t._v("，它的默认值是"),s("code",[t._v("commonjs")]),t._v("，否则就是"),s("code",[t._v("ES6/ES2015")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"module"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commonjs"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("它可以取以下值：none、commonjs、amd、umd、system、es6/es2015、es2020、es2022、esnext、node16、nodenext。")]),t._v(" "),s("h3",{attrs:{id:"moduleresolution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#moduleresolution"}},[t._v("#")]),t._v(" moduleResolution")]),t._v(" "),s("p",[s("code",[t._v("moduleResolution")]),t._v("确定模块路径的算法，即如何查找模块。它可以取以下四种值。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("node")]),t._v("：采用 Node.js 的 CommonJS 模块算法。")]),t._v(" "),s("li",[s("code",[t._v("node16")]),t._v("或"),s("code",[t._v("nodenext")]),t._v("：采用 Node.js 的 ECMAScript 模块算法，从  TypeScript 4.7 开始支持。")]),t._v(" "),s("li",[s("code",[t._v("classic")]),t._v("：TypeScript 1.6 之前的算法，新项目不建议使用。")])]),t._v(" "),s("p",[t._v("它的默认值与"),s("code",[t._v("module")]),t._v("属性有关，如果"),s("code",[t._v("module")]),t._v("为"),s("code",[t._v("AMD")]),t._v("、"),s("code",[t._v("UMD")]),t._v("、"),s("code",[t._v("System")]),t._v("或"),s("code",[t._v("ES6/ES2015")]),t._v("，默认值为"),s("code",[t._v("classic")]),t._v("；如果"),s("code",[t._v("module")]),t._v("为"),s("code",[t._v("node16")]),t._v("或"),s("code",[t._v("nodenext")]),t._v("，默认值为这两个值；其他情况下,默认值为"),s("code",[t._v("Node")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"modulesuffixes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modulesuffixes"}},[t._v("#")]),t._v(" moduleSuffixes")]),t._v(" "),s("p",[s("code",[t._v("moduleSuffixes")]),t._v("指定模块的后缀名。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"moduleSuffixes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".ios"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".native"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("上面的设置使得 TypeScript 对于语句"),s("code",[t._v('import * as foo from "./foo";')]),t._v("，会搜索以下脚本"),s("code",[t._v("./foo.ios.ts")]),t._v("、"),s("code",[t._v("./foo.native.ts")]),t._v("和"),s("code",[t._v("./foo.ts")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"newline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#newline"}},[t._v("#")]),t._v(" newLine")]),t._v(" "),s("p",[s("code",[t._v("newLine")]),t._v("设置换行符为"),s("code",[t._v("CRLF")]),t._v("（Windows）还是"),s("code",[t._v("LF")]),t._v("（Linux）。")]),t._v(" "),s("h3",{attrs:{id:"noemit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noemit"}},[t._v("#")]),t._v(" noEmit")]),t._v(" "),s("p",[s("code",[t._v("noEmit")]),t._v("设置是否产生编译结果。如果不生成，TypeScript 编译就纯粹作为类型检查了。")]),t._v(" "),s("h3",{attrs:{id:"noemithelpers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noemithelpers"}},[t._v("#")]),t._v(" noEmitHelpers")]),t._v(" "),s("p",[s("code",[t._v("noEmitHelpers")]),t._v("设置在编译结果文件不插入 TypeScript 辅助函数，而是通过外部引入辅助函数来解决，比如 NPM 模块"),s("code",[t._v("tslib")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"noemitonerror"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noemitonerror"}},[t._v("#")]),t._v(" noEmitOnError")]),t._v(" "),s("p",[s("code",[t._v("noEmitOnError")]),t._v("指定一旦编译报错，就不生成编译产物，默认为"),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"nofallthroughcasesinswitch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nofallthroughcasesinswitch"}},[t._v("#")]),t._v(" noFallthroughCasesInSwitch")]),t._v(" "),s("p",[s("code",[t._v("noFallthroughCasesInSwitch")]),t._v("设置是否对没有"),s("code",[t._v("break")]),t._v("语句（或者"),s("code",[t._v("return")]),t._v("和"),s("code",[t._v("throw")]),t._v("语句）的 switch 分支报错，即"),s("code",[t._v("case")]),t._v("代码里面必须有终结语句（比如"),s("code",[t._v("break")]),t._v("）。")]),t._v(" "),s("h3",{attrs:{id:"noimplicitany"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noimplicitany"}},[t._v("#")]),t._v(" noImplicitAny")]),t._v(" "),s("p",[s("code",[t._v("noImplicitAny")]),t._v("设置当一个表达式没有明确的类型描述、且编译器无法推断出具体类型时，是否允许将它推断为"),s("code",[t._v("any")]),t._v("类型。")]),t._v(" "),s("p",[t._v("它是一个布尔值，默认为"),s("code",[t._v("true")]),t._v("，即只要推断出"),s("code",[t._v("any")]),t._v("类型就报错。")]),t._v(" "),s("h3",{attrs:{id:"noimplicitreturns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noimplicitreturns"}},[t._v("#")]),t._v(" noImplicitReturns")]),t._v(" "),s("p",[s("code",[t._v("noImplicitReturns")]),t._v("设置是否要求函数任何情况下都必须返回一个值，即函数必须有"),s("code",[t._v("return")]),t._v("语句。")]),t._v(" "),s("h3",{attrs:{id:"noimplicitthis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#noimplicitthis"}},[t._v("#")]),t._v(" noImplicitThis")]),t._v(" "),s("p",[s("code",[t._v("noImplicitThis")]),t._v("设置如果"),s("code",[t._v("this")]),t._v("被推断为"),s("code",[t._v("any")]),t._v("类型是否报错。")]),t._v(" "),s("h3",{attrs:{id:"nounusedlocals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nounusedlocals"}},[t._v("#")]),t._v(" noUnusedLocals")]),t._v(" "),s("p",[s("code",[t._v("noUnusedLocals")]),t._v("设置是否允许未使用的局部变量。")]),t._v(" "),s("h3",{attrs:{id:"nounusedparameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nounusedparameters"}},[t._v("#")]),t._v(" noUnusedParameters")]),t._v(" "),s("p",[s("code",[t._v("noUnusedParameters")]),t._v("设置是否允许未使用的函数参数。")]),t._v(" "),s("h3",{attrs:{id:"outdir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#outdir"}},[t._v("#")]),t._v(" outDir")]),t._v(" "),s("p",[s("code",[t._v("outDir")]),t._v("指定编译产物的存放目录。如果不指定，编译出来的"),s("code",[t._v(".js")]),t._v("文件存放在对应的"),s("code",[t._v(".ts")]),t._v("文件的相同位置。")]),t._v(" "),s("h3",{attrs:{id:"outfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#outfile"}},[t._v("#")]),t._v(" outFile")]),t._v(" "),s("p",[s("code",[t._v("outFile")]),t._v("设置将所有非模块的全局文件，编译在同一个文件里面。它只有在"),s("code",[t._v("module")]),t._v("属性为"),s("code",[t._v("None")]),t._v("、"),s("code",[t._v("System")]),t._v("、"),s("code",[t._v("AMD")]),t._v("时才生效，并且不能用来打包 CommonJS 或 ES6 模块。")]),t._v(" "),s("h3",{attrs:{id:"paths"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#paths"}},[t._v("#")]),t._v(" paths")]),t._v(" "),s("p",[s("code",[t._v("paths")]),t._v("设置模块名和模块路径的映射，也就是 TypeScript 如何导入"),s("code",[t._v("require")]),t._v("或"),s("code",[t._v("imports")]),t._v("语句加载的模块。")]),t._v(" "),s("p",[s("code",[t._v("paths")]),t._v("基于"),s("code",[t._v("baseUrl")]),t._v("进行加载，所以必须同时设置后者。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"baseUrl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"paths"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"b"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar/b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("它还可以使用通配符“*”。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"baseUrl"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"paths"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@bar/*"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"preserveconstenums"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preserveconstenums"}},[t._v("#")]),t._v(" preserveConstEnums")]),t._v(" "),s("p",[s("code",[t._v("preserveConstEnums")]),t._v("将"),s("code",[t._v("const enum")]),t._v("结构保留下来，不替换成常量值。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"preserveConstEnums"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"pretty"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pretty"}},[t._v("#")]),t._v(" pretty")]),t._v(" "),s("p",[s("code",[t._v("pretty")]),t._v("设置美化输出终端的编译信息，默认为"),s("code",[t._v("true")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"removecomments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#removecomments"}},[t._v("#")]),t._v(" removeComments")]),t._v(" "),s("p",[s("code",[t._v("removeComments")]),t._v("移除 TypeScript 脚本里面的注释，默认为"),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"resolvejsonmodule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolvejsonmodule"}},[t._v("#")]),t._v(" resolveJsonModule")]),t._v(" "),s("p",[s("code",[t._v("resolveJsonModule")]),t._v("允许 import 命令导入 JSON 文件。")]),t._v(" "),s("h3",{attrs:{id:"rootdir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rootdir"}},[t._v("#")]),t._v(" rootDir")]),t._v(" "),s("p",[s("code",[t._v("rootDir")]),t._v("设置源码脚本所在的目录，主要跟编译后的脚本结构有关。"),s("code",[t._v("rootDir")]),t._v("对应目录下的所有脚本，会成为输出目录里面的顶层脚本。")]),t._v(" "),s("h3",{attrs:{id:"rootdirs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rootdirs"}},[t._v("#")]),t._v(" rootDirs")]),t._v(" "),s("p",[s("code",[t._v("rootDirs")]),t._v("把多个不同目录，合并成一个目虚拟目录，便于模块定位。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"rootDirs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("上面示例中，"),s("code",[t._v("rootDirs")]),t._v("将"),s("code",[t._v("bar")]),t._v("和"),s("code",[t._v("foo")]),t._v("组成一个虚拟目录。")]),t._v(" "),s("h3",{attrs:{id:"sourcemap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sourcemap"}},[t._v("#")]),t._v(" sourceMap")]),t._v(" "),s("p",[s("code",[t._v("sourceMap")]),t._v("设置编译时是否生成 SourceMap 文件。")]),t._v(" "),s("h3",{attrs:{id:"sourceroot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sourceroot"}},[t._v("#")]),t._v(" sourceRoot")]),t._v(" "),s("p",[s("code",[t._v("sourceRoot")]),t._v("在 SourceMap 里面设置 TypeScript 源文件的位置。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"sourceMap"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"sourceRoot"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://my-website.com/debug/source/"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"strict"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strict"}},[t._v("#")]),t._v(" strict")]),t._v(" "),s("p",[s("code",[t._v("strict")]),t._v("用来打开 TypeScript 的严格检查。它的值是一个布尔值，默认是关闭的。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"strict"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("这个设置相当于同时打开以下的一系列设置。")]),t._v(" "),s("ul",[s("li",[t._v("alwaysStrict")]),t._v(" "),s("li",[t._v("strictNullChecks")]),t._v(" "),s("li",[t._v("strictBindCallApply")]),t._v(" "),s("li",[t._v("strictFunctionTypes")]),t._v(" "),s("li",[t._v("strictPropertyInitialization")]),t._v(" "),s("li",[t._v("noImplicitAny")]),t._v(" "),s("li",[t._v("noImplicitThis")]),t._v(" "),s("li",[t._v("useUnknownInCatchVaria")])]),t._v(" "),s("p",[t._v("打开"),s("code",[t._v("strict")]),t._v("的时候，允许单独关闭其中一项。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"strict"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"alwaysStrict"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"strictbindcallapply"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strictbindcallapply"}},[t._v("#")]),t._v(" strictBindCallApply")]),t._v(" "),s("p",[s("code",[t._v("strictBindCallApply")]),t._v("设置是否对函数的"),s("code",[t._v("call()")]),t._v("、"),s("code",[t._v("bind()")]),t._v("、"),s("code",[t._v("apply()")]),t._v("这三个方法进行类型检查。")]),t._v(" "),s("p",[t._v("如果不打开"),s("code",[t._v("strictBindCallApply")]),t._v("编译选项，编译器不会对以上三个方法进行类型检查，参数类型都是"),s("code",[t._v("any")]),t._v("，传入任何参数都不会产生编译错误。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// strictBindCallApply:false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以上不报错")]),t._v("\n")])])]),s("h3",{attrs:{id:"strictfunctiontypes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strictfunctiontypes"}},[t._v("#")]),t._v(" strictFunctionTypes")]),t._v(" "),s("p",[s("code",[t._v("strictFunctionTypes")]),t._v("允许对函数更严格的参数检查。具体来说，如果函数 B 的参数是函数 A 参数的子类型，那么函数 B 不能替代函数 A。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello, '")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StringOrNumberFunc")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("number")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打开 strictFunctionTypes，下面代码会报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" func"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("StringOrNumberFunc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("上面示例中，函数"),s("code",[t._v("fn()")]),t._v("的参数是"),s("code",[t._v("StringOrNumberFunc")]),t._v("参数的子集，因此"),s("code",[t._v("fn")]),t._v("不能替代"),s("code",[t._v("StringOrNumberFunc")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"strictnullchecks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strictnullchecks"}},[t._v("#")]),t._v(" strictNullChecks")]),t._v(" "),s("p",[s("code",[t._v("strictNullChecks")]),t._v("设置对"),s("code",[t._v("null")]),t._v("和"),s("code",[t._v("undefined")]),t._v("进行严格类型检查。如果打开"),s("code",[t._v("strict")]),t._v("属性，这一项就会自动设为"),s("code",[t._v("true")]),t._v("，否则为"),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" value:string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// strictNullChecks:false\n// 下面语句不报错\nvalue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" null"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("它可以理解成只要打开，就需要显式检查"),s("code",[t._v("null")]),t._v("或"),s("code",[t._v("undefined")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// do nothing")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"strictpropertyinitialization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strictpropertyinitialization"}},[t._v("#")]),t._v(" strictPropertyInitialization")]),t._v(" "),s("p",[s("code",[t._v("strictPropertyInitialization")]),t._v("设置类的实例属性都必须初始化，包括以下几种情况。")]),t._v(" "),s("ul",[s("li",[t._v("设为"),s("code",[t._v("undefined")]),t._v("类型")]),t._v(" "),s("li",[t._v("显式初始化")]),t._v(" "),s("li",[t._v("构造函数中赋值")])]),t._v(" "),s("p",[t._v("注意，使用该属性的同时，必须打开"),s("code",[t._v("strictNullChecks")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// strictPropertyInitialization：true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 报错，属性 username 没有初始化")]),t._v("\n  username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解决方法一")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  username "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'张三'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解决方法二")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解决方法三")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或者")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解决方法四：赋值断言")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"suppressexcesspropertyerrors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#suppressexcesspropertyerrors"}},[t._v("#")]),t._v(" suppressExcessPropertyErrors")]),t._v(" "),s("p",[s("code",[t._v("suppressExcessPropertyErrors")]),t._v("关闭对象字面量的多余参数的报错。")]),t._v(" "),s("h3",{attrs:{id:"target"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#target"}},[t._v("#")]),t._v(" target")]),t._v(" "),s("p",[s("code",[t._v("target")]),t._v("指定编译出来的 JavaScript 代码的 ECMAScript 版本，比如"),s("code",[t._v("es2021")]),t._v("，默认是"),s("code",[t._v("es3")]),t._v("。")]),t._v(" "),s("p",[t._v("它可以取以下值。")]),t._v(" "),s("ul",[s("li",[t._v("es3")]),t._v(" "),s("li",[t._v("es5")]),t._v(" "),s("li",[t._v("es6/es2015")]),t._v(" "),s("li",[t._v("es2016")]),t._v(" "),s("li",[t._v("es2017")]),t._v(" "),s("li",[t._v("es2018")]),t._v(" "),s("li",[t._v("es2019")]),t._v(" "),s("li",[t._v("es2020")]),t._v(" "),s("li",[t._v("es2021")]),t._v(" "),s("li",[t._v("es2022")]),t._v(" "),s("li",[t._v("esnext")])]),t._v(" "),s("p",[t._v("注意，如果编译的目标版本过老，比如"),s("code",[t._v('"target": "es3"')]),t._v("，有些语法可能无法编译，"),s("code",[t._v("tsc")]),t._v("命令会报错。")]),t._v(" "),s("h3",{attrs:{id:"traceresolution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#traceresolution"}},[t._v("#")]),t._v(" traceResolution")]),t._v(" "),s("p",[s("code",[t._v("traceResolution")]),t._v("设置编译时，在终端输出模块解析的具体步骤。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"traceResolution"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"typeroots"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typeroots"}},[t._v("#")]),t._v(" typeRoots")]),t._v(" "),s("p",[s("code",[t._v("typeRoots")]),t._v("设置类型模块所在的目录，默认是"),s("code",[t._v("node_modules/@types")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"typeRoots"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./typings"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vendor/types"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[t._v("#")]),t._v(" types")]),t._v(" "),s("p",[s("code",[t._v("types")]),t._v("设置"),s("code",[t._v("typeRoots")]),t._v("目录下需要包括在编译之中的类型模块。默认情况下，该目录下的所有类型模块，都会自动包括在编译之中。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"types"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jest"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"express"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"useunknownincatchvariables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useunknownincatchvariables"}},[t._v("#")]),t._v(" useUnknownInCatchVariables")]),t._v(" "),s("p",[s("code",[t._v("useUnknownInCatchVariables")]),t._v("设置"),s("code",[t._v("catch")]),t._v("语句捕获的"),s("code",[t._v("try")]),t._v("抛出的返回值类型，从"),s("code",[t._v("any")]),t._v("变成"),s("code",[t._v("unknown")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("someExternalFunction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 类型 any")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("上面示例中，默认情况下，"),s("code",[t._v("catch")]),t._v("语句的参数"),s("code",[t._v("err")]),t._v("类型是"),s("code",[t._v("any")]),t._v("，即可以是任何值。")]),t._v(" "),s("p",[t._v("打开"),s("code",[t._v("useUnknownInCatchVariables")]),t._v("以后，"),s("code",[t._v("err")]),t._v("的类型抛出的错误将是"),s("code",[t._v("unknown")]),t._v("类型。这带来的变化就是使用"),s("code",[t._v("err")]),t._v("之前，必须缩小它的类型，否则会报错。")]),t._v(" "),s("div",{staticClass:"language-typescript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-typescript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("someExternalFunction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"参考链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://mariusschulz.com/blog/strict-property-initialization-in-typescript",target:"_blank",rel:"noopener noreferrer"}},[t._v("Strict Property Initialization in TypeScript"),s("OutboundLink")],1),t._v(", Marius Schulz")])])])}),[],!1,null,null,null);s.default=n.exports}}]);