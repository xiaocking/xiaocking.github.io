(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{687:function(n,t,o){"use strict";o.r(t);var a=o(2),s=Object(a.a)({},(function(){var n=this,t=n._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"mongodb-安装配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-安装配置"}},[n._v("#")]),n._v(" mongoDB 安装配置")]),n._v(" "),t("p",[n._v("系统 centOs7 腾讯云服务器"),t("br"),n._v("\n安装 mongodb4.2.2 数据库"),t("br"),n._v(" "),t("a",{attrs:{href:"https://blog.csdn.net/qq_43317529/article/details/83033691",target:"_blank",rel:"noopener noreferrer"}},[n._v("参考文档"),t("OutboundLink")],1)]),n._v(" "),t("h2",{attrs:{id:"下载安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载安装包"}},[n._v("#")]),n._v(" 下载安装包")]),n._v(" "),t("p",[t("a",{attrs:{href:"https://www.mongodb.com/try/download/community",target:"_blank",rel:"noopener noreferrer"}},[n._v("官网下载"),t("OutboundLink")],1)]),n._v(" "),t("p",[n._v("1、进入官网选中对应的版本，然后选中 copy link")]),n._v(" "),t("p",[n._v("2、执行下载")]),n._v(" "),t("blockquote",[t("p",[n._v("wget "),t("code",[n._v("https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.4.5.tgz")])])]),n._v(" "),t("p",[n._v("3、 下载完成后")]),n._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 解压到对应文件夹下")]),n._v("\ntar "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("xvzf mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("linux"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("x86_64"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("rhel70"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("4.4.5.tgz\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 建议将解压后的文件夹移动到 /usr 文件夹下")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 这里我放在 /usr/local/mongodb 里(mongodb 文件夹手动添加的)")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 移动文件夹下的文件")]),n._v("\nmv mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("linux"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("x86_64"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("rhel70"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("-")]),n._v("4.4.5/* /usr/local/mongodb\n\n")])])]),t("h2",{attrs:{id:"配置-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-mongodb"}},[n._v("#")]),n._v(" 配置 mongoDB")]),n._v(" "),t("p",[n._v("1、 cd /usr/local/mongodb // 进入 mongodb 安装文件夹")]),n._v(" "),t("p",[n._v("2、 mkdir db // 创建 db 文件夹用于存放数据库文件")]),n._v(" "),t("p",[n._v("3、 vim mongodb.conf // 创建 mongodb 配置文件 内容如下(路径填写自己的)")]),n._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[n._v("port=27017\ndbpath= /usr/local/mongodb/db             "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 数据库文件存放目录(路径填写自己的)")]),n._v("\nlogpath= /usr/local/mongodb/mongodb.log   "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 日志文件(路径填写自己的)")]),n._v("\nlogappend=true                            "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 追加方式添加日志")]),n._v("\nfork=false                                "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 不在后台运行 true为后台运行")]),n._v("\nmaxConns=100                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 最大连接数")]),n._v("\nnoauth=true                               "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 不启用验证")]),n._v("\njournal=true                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 每次写入时记录一条操作日志")]),n._v("\nstorageEngine=wiredTiger                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 存储引擎")]),n._v("\nbind_ip = 0.0.0.0                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 允许所有id连接（允许外部访问）")]),n._v("\n")])])]),t("p",[n._v("4、 vim /etc/profile.d/mongodb.sh // 配置 mongodb 环境变量"),t("br"),n._v("\n也可已直接在 /etc/profile 文件中添加 建议在 profile.d 文件夹下新增文件 便于管理")]),n._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[n._v("export PATH=$PATH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(":")]),n._v("/usr/local/mongodb/bin "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#(路径填写自己的)")]),n._v("\n")])])]),t("p",[n._v("5、 source /etc/profile // 添加完成后 刷新环境变量")]),n._v(" "),t("p",[n._v("6、 cd /usr/local/mongodb/bin // 进入 mongodb bin 目录")]),n._v(" "),t("p",[n._v("7、 mongod --config /usr/local/mongodb/mongodb.conf // 启动数据库")]),n._v(" "),t("p",[n._v("8、 如果光标停住了 说明启动成功了"),t("br"),n._v("\n如果不是，说明上面步骤有问题，检查一下、尤其是路径要填写自己的路径")]),n._v(" "),t("h2",{attrs:{id:"远程连接-mongodb-数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#远程连接-mongodb-数据库"}},[n._v("#")]),n._v(" 远程连接 mongoDB 数据库")]),n._v(" "),t("p",[n._v("检查服务器是否开启 27017 端口\n如果没有"),t("br"),n._v("\nfirewall-cmd --zone=public --add-port=27017/tcp --permane // 开启端口")]),n._v(" "),t("p",[n._v("firewall-cmd --reload // 重新加载防火墙")]),n._v(" "),t("p",[n._v("firewall-cmd --zone=public --query-port=27017/tcp // 查看端口号是否开放成功，输出 yes 开放成功，no 则失败")]),n._v(" "),t("p",[n._v("这里使用 navicat premium12 连接查看 mongodb 远程数据库"),t("br"),n._v("\n选择 mongodb"),t("br"),n._v("\n选择 ssh"),t("br"),n._v("\n输入对应 ip 账号 密码"),t("br"),n._v("\n测试连接成功"),t("br"),n._v("\n确定即可连接 mongodb 数据库")])])}),[],!1,null,null,null);t.default=s.exports}}]);