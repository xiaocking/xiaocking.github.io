(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{691:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"nodejs-ç›¸å…³"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-ç›¸å…³"}},[t._v("#")]),t._v(" nodeJs ç›¸å…³")]),t._v(" "),s("h2",{attrs:{id:"npm-åŒ…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#npm-åŒ…"}},[t._v("#")]),t._v(" npm åŒ…")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# express æ¡†æ¶")]),t._v("\nnpm install express\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nodeJs é‚®ä»¶å‘é€")]),t._v("\nnpm install nodemailer\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¯·æ±‚å†…å®¹è§£æè·å–ä¼ å‚")]),t._v("\nnpm install body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("parser\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# express è¿æ¥mongodbæ•°æ®åº“")]),t._v("\nnpm install mongoose\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¸è½½node-sass")]),t._v("\nnpm uninstall node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sass\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£…node-sass")]),t._v("\nnpm install node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sass\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# linuxç³»ç»Ÿå®‰è£…nvm")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("githubåœ°å€")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//github.com/nvm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sh/nvm\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£…PM2(nodeè¿›ç¨‹ç®¡ç†å·¥å…·)")]),t._v("\nnpm install "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g pm2\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£…typescript")]),t._v("\nnpm install "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g typescript\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ts-node ç›´æ¥è§£æ ts æ–‡ä»¶å¹¶è¿è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç›¸å½“äº tsc xx.ts && node xx.js")]),t._v("\nnpm install "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g ts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("node\n")])])]),s("h3",{attrs:{id:"nodemailer-ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodemailer-ç¤ºä¾‹"}},[t._v("#")]),t._v(" nodemailer ç¤ºä¾‹")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'use strict'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" nodemailer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'nodemailer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// async..await is not allowed in global scope, must use a wrapper")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Generate test SMTP service account from ethereal.email")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Only needed if you don't have a real mail account for testing")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" testAccount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" nodemailer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTestAccount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create reusable transporter object using the default SMTP transport")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" transporter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nodemailer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTransport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'smtp.ethereal.email'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("587")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("secure")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true for 465, false for other ports")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" testAccount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// generated ethereal user")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pass")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" testAccount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pass"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// generated ethereal password")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// send mail with defined transport object")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" info "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" transporter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"Fred Foo ğŸ‘»\" <foo@example.com>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sender address")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar@example.com, baz@example.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// list of receivers")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("subject")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello âœ”'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Subject line")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("text")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello world?'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// plain text body")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<b>Hello world?</b>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// html body")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Message sent: %s'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("messageId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Preview only available when sending through an Ethereal account")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Preview URL: %s'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nodemailer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTestMessageUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"body-parser-é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#body-parser-é…ç½®"}},[t._v("#")]),t._v(" body-parser é…ç½®")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" express "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'express'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bodyParser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'body-parser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// parse application/x-www-form-urlencoded")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("urlencoded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extended")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// parse application/json")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bodyParser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query\npost req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n\n")])])]),s("h3",{attrs:{id:"mongoose-ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongoose-ä½¿ç”¨"}},[t._v("#")]),t._v(" mongoose ä½¿ç”¨")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Using Node.js `require()`")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mongoose "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Using ES6 imports")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mongoose "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),t._v("\n\nmongoose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongodb://localhost/my_database'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useNewUrlParser")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("useUnifiedTopology")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"pm2-ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pm2-ä½¿ç”¨"}},[t._v("#")]),t._v(" PM2 ä½¿ç”¨")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2éœ€è¦å…¨å±€å®‰è£…")]),t._v("\nnpm install "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g pm2\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯åŠ¨è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 start bin/www æˆ– pm2 start app.js\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é‡å‘½åè¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 start app.js "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("name wb123\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ·»åŠ è¿›ç¨‹/åº”ç”¨")]),t._v("\nwatch pm2 start bin/www "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("watch\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç»“æŸè¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 stop www\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç»“æŸæ‰€æœ‰è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 stop all\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  åˆ é™¤è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 delete www\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  åˆ é™¤æ‰€æœ‰è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 delete all\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 list\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  æŸ¥çœ‹æŸä¸ªè¿›ç¨‹/åº”ç”¨å…·ä½“æƒ…å†µ")]),t._v("\npm2 describe www\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  æŸ¥çœ‹è¿›ç¨‹/åº”ç”¨çš„èµ„æºæ¶ˆè€—æƒ…å†µ")]),t._v("\npm2 monit\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  æŸ¥çœ‹pm2çš„æ—¥å¿—")]),t._v("\npm2 logs\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  è‹¥è¦æŸ¥çœ‹æŸä¸ªè¿›ç¨‹/åº”ç”¨çš„æ—¥å¿—,ä½¿ç”¨")]),t._v("\npm2 logs www\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  é‡æ–°å¯åŠ¨è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 restart www\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  é‡æ–°å¯åŠ¨æ‰€æœ‰è¿›ç¨‹/åº”ç”¨")]),t._v("\npm2 restart all\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯åŠ¨package.jsonä¸­çš„å‘½ä»¤")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ³¨æ„åˆ«æ¼æ‰ --")]),t._v("\npm2 start npm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("name 'xx' "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" run xx\n")])])]),s("h4",{attrs:{id:"pm2-å¸¸è§é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pm2-å¸¸è§é—®é¢˜"}},[t._v("#")]),t._v(" PM2 å¸¸è§é—®é¢˜")]),t._v(" "),s("blockquote",[s("p",[t._v("PM2 å¯åŠ¨æ³¨æ„äº‹é¡¹")])]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 list åªèƒ½æŸ¥çœ‹å½“å‰ç”¨æˆ·å¯åŠ¨çš„è¿›ç¨‹ æ— æ³•æŸ¥çœ‹å…¶ä»–ç”¨æˆ·å¯åŠ¨çš„pm2 è¿›ç¨‹")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PM2å¯åŠ¨éœ€æ³¨æ„å½“å‰ç”¨æˆ·ï¼Œå¦‚æœæœ‰å¤šä¸ªç”¨æˆ·åœ¨PM2ä¸­å¯åŠ¨åŒä¸€é¡¹ç›®ï¼Œå ç”¨ç›¸åŒç«¯å£æ—¶ï¼Œä¼šå¯¼è‡´ç«¯å£å ç”¨é”™è¯¯")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("cannot find module pm2/lib/ProcessContainerFork.js")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/Unitech/pm2/issues/1943",target:"_blank",rel:"noopener noreferrer"}},[t._v("cannot find module pm2/lib/ProcessContainerFork.js é”™è¯¯"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™ä¸ªé—®é¢˜æ˜¯PM2æ‰§è¡Œæ—¶æ²¡æœ‰æ‰¾åˆ°ä¾èµ–æ–‡ä»¶")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯èƒ½å¯¼è‡´å‡ºç°è¿™ä¸ªé—®é¢˜å¾—åŸå› æ˜¯")]),t._v("\n\n1. node æœ‰å¤šä¸ªç‰ˆæœ¬ å…¶ä¸­æŸä¸ªç‰ˆæœ¬æ²¡æœ‰å®‰è£…PM2.5\n2. PM2å®‰è£…ç›®å½•å‘ç”Ÿå˜åŒ– å¯¼è‡´æ‰¾ä¸åˆ°ä¾èµ–\n3. åˆ é™¤è¿‡PM2åé‡æ–°å®‰è£… ä¹‹å‰çš„é…ç½®æ–‡ä»¶å­˜åœ¨ç¼“å­˜\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è§£å†³æ–¹æ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ‰§è¡Œ")]),t._v("\nrm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rf ~/.pm2\n")])])]),s("blockquote",[s("p",[t._v("Script not found xx/xx/run")])]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŸå›  run å‰é¢å°‘äº† --")]),t._v("\npm2 start npm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("name 'xx' "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" run xx\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);