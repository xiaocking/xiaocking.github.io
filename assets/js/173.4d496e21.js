(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{680:function(s,t,n){"use strict";n.r(t);var a=n(2),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"screen-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screen-命令"}},[s._v("#")]),s._v(" screen 命令")]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("yum install screen\n\nrpm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("qa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v("grep screen\n")])])]),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建一个叫yourname的session")]),s._v("\nscreen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("S yourname\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出当前所有的session")]),s._v("\nscreen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("ls\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回到yourname这个session")]),s._v("\nscreen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r yourname\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 远程detach某个session")]),s._v("\nscreen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d yourname\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结束当前session并回到yourname这个session")]),s._v("\nscreen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r yourname\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除session")]),s._v("\nscreen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("X "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("S "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" quit\n")])])]),t("h2",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("screen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("AmRvx "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("ls "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("wipe"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d <作业名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("h <行数"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r <作业名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("S <作业名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数说明")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("A            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将所有的视窗都调整为目前终端机的大小。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d <作业名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将指定的screen作业离线。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("h <行数"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定视窗的缓冲区行数。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("m            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 即使目前已在作业中的screen作业，仍强制建立新的screen作业。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r <作业名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复离线的screen作业。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("R            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("s            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定建立新视窗时，所要执行的shell。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("S <作业名称"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定screen作业的名称。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("v            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示版本信息。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("x            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复之前离线的screen作业。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("ls或"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("list   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示目前所有的screen作业。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("wipe         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查目前所有的screen作业，并删除已经无法使用的screen作业。")]),s._v("\n")])])]),t("h2",{attrs:{id:"session命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session命令"}},[s._v("#")]),s._v(" session命令")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在每个screen session 下，所有命令都以 ctrl+a(C-a) 开始。")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("?")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有键绑定信息")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a c  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个新的运行shell的窗口并切换到该窗口")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Next，切换到下一个 window")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a p  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Previous，切换到前一个 window")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a 0..9  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到第 0..9 个 window")]),s._v("\nCtrl+a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Space"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由视窗0循序切换到视窗9")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a C"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在两个最近使用的 window 间切换")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a x  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 锁住当前的 window，需用用户密码解锁")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a d  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# detach，暂时离开当前session，将目前的 screen session (可能含有多个 windows) 丢到后台执行，并会回到还没进 screen 时的状态，此时在 screen session 里，每个 window 内运行的 process (无论是前台/后台)都在继续执行，即使 logout 也不影响。")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a z  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把当前session放到后台执行，用 shell 的 fg 命令则可回去。")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a w  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有窗口列表")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a t  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Time，显示当前时间，和系统的 load")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a k  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill window，强行关闭当前的 window")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 copy mode，在 copy mode 下可以回滚、搜索、复制就像用使用 vi 一样")]),s._v("\n    C"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("b "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Backward，PageUp")]),s._v("\n    C"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("f "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Forward，PageDown")]),s._v("\n    H(大写) "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# High，将光标移至左上角")]),s._v("\n    L "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Low，将光标移至左下角")]),s._v("\n    0 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移到行首")]),s._v("\n    $ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 行末")]),s._v("\n    w "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# forward one word，以字为单位往前移")]),s._v("\n    b "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# backward one word，以字为单位往后移")]),s._v("\n    Space "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一次按为标记区起点，第二次按为终点")]),s._v("\n    Esc "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结束 copy mode")]),s._v("\nC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Paste，把刚刚在 copy mode 选定的内容贴上")]),s._v("\n")])])]),t("h2",{attrs:{id:"screen高级应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screen高级应用"}},[s._v("#")]),s._v(" screen高级应用")]),s._v(" "),t("h3",{attrs:{id:"会话共享"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#会话共享"}},[s._v("#")]),s._v(" 会话共享")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("screen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("x\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行以上命令后，在同一个screen会话中，处于这一个会话的用户会共享当前操作")]),s._v("\n")])])]),t("h3",{attrs:{id:"会话锁定与解锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#会话锁定与解锁"}},[s._v("#")]),s._v(" 会话锁定与解锁")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Screen允许使用快捷键C-a s锁定会话。锁定以后，再进行任何输入屏幕都不会再有反应了。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是要注意虽然屏幕上看不到反应，但你的输入都会被Screen中的进程接收到。快捷键C-a q可以解锁一个会话。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以使用C-a x锁定会话，不同的是这样锁定之后，会话会被Screen所属用户的密码保护，需要输入密码才能继续访问这个会话。")]),s._v("\n")])])]),t("h3",{attrs:{id:"发送命令到screen会话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发送命令到screen会话"}},[s._v("#")]),s._v(" 发送命令到screen会话")]),s._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[s._v("screen "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("S sandy "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("X screen ping (不含http的域名)\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个命令在一个叫做sandy的screen会话中创建一个新窗口，并在其中运行ping命令。")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("更多相关操作可以参考网上文章")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("本文参考文章"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);