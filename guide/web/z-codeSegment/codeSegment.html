<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代码片段 | xiaoc的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/avatar.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.ea5e502b.css" as="style"><link rel="preload" href="/assets/js/app.5a23a2ab.js" as="script"><link rel="preload" href="/assets/js/7.4f4f69ac.js" as="script"><link rel="preload" href="/assets/js/2.890c3301.js" as="script"><link rel="preload" href="/assets/js/1.0e465a30.js" as="script"><link rel="preload" href="/assets/js/39.c181ec3d.js" as="script"><link rel="prefetch" href="/assets/js/10.0d627009.js"><link rel="prefetch" href="/assets/js/100.e9977c7d.js"><link rel="prefetch" href="/assets/js/101.8f2f0fca.js"><link rel="prefetch" href="/assets/js/102.73694b73.js"><link rel="prefetch" href="/assets/js/103.e240a3a2.js"><link rel="prefetch" href="/assets/js/104.c7d3e838.js"><link rel="prefetch" href="/assets/js/105.906f8764.js"><link rel="prefetch" href="/assets/js/106.1dced9c8.js"><link rel="prefetch" href="/assets/js/107.9529b20b.js"><link rel="prefetch" href="/assets/js/108.bc7b80fa.js"><link rel="prefetch" href="/assets/js/109.2ad53dd2.js"><link rel="prefetch" href="/assets/js/11.621fa9eb.js"><link rel="prefetch" href="/assets/js/110.d0c3a25a.js"><link rel="prefetch" href="/assets/js/111.fe19cbb7.js"><link rel="prefetch" href="/assets/js/112.3d6528d8.js"><link rel="prefetch" href="/assets/js/113.2338695c.js"><link rel="prefetch" href="/assets/js/114.c6719eaf.js"><link rel="prefetch" href="/assets/js/115.ad3ed02c.js"><link rel="prefetch" href="/assets/js/116.23bd1249.js"><link rel="prefetch" href="/assets/js/117.ac1a7bf6.js"><link rel="prefetch" href="/assets/js/118.e45f4e0b.js"><link rel="prefetch" href="/assets/js/119.cc1c271c.js"><link rel="prefetch" href="/assets/js/120.94ec1ca5.js"><link rel="prefetch" href="/assets/js/121.04cd88ed.js"><link rel="prefetch" href="/assets/js/122.7de60dba.js"><link rel="prefetch" href="/assets/js/123.b12fc34b.js"><link rel="prefetch" href="/assets/js/124.8683646c.js"><link rel="prefetch" href="/assets/js/125.15a79816.js"><link rel="prefetch" href="/assets/js/126.9fd3169c.js"><link rel="prefetch" href="/assets/js/127.cb723daa.js"><link rel="prefetch" href="/assets/js/128.7280fa4b.js"><link rel="prefetch" href="/assets/js/129.8016d080.js"><link rel="prefetch" href="/assets/js/130.a0377145.js"><link rel="prefetch" href="/assets/js/131.eecae309.js"><link rel="prefetch" href="/assets/js/132.1253b401.js"><link rel="prefetch" href="/assets/js/133.d6b809f3.js"><link rel="prefetch" href="/assets/js/134.9b63d8eb.js"><link rel="prefetch" href="/assets/js/135.beed4120.js"><link rel="prefetch" href="/assets/js/136.e413b0a7.js"><link rel="prefetch" href="/assets/js/137.f69202bb.js"><link rel="prefetch" href="/assets/js/138.9eaf0104.js"><link rel="prefetch" href="/assets/js/139.ffd9c215.js"><link rel="prefetch" href="/assets/js/14.3672a338.js"><link rel="prefetch" href="/assets/js/140.09063887.js"><link rel="prefetch" href="/assets/js/141.1f350964.js"><link rel="prefetch" href="/assets/js/142.812c4b3e.js"><link rel="prefetch" href="/assets/js/143.195f237f.js"><link rel="prefetch" href="/assets/js/144.b44e40ed.js"><link rel="prefetch" href="/assets/js/145.573950bc.js"><link rel="prefetch" href="/assets/js/146.875db123.js"><link rel="prefetch" href="/assets/js/147.b5b7eebc.js"><link rel="prefetch" href="/assets/js/148.6e6b15be.js"><link rel="prefetch" href="/assets/js/149.f6fef0ba.js"><link rel="prefetch" href="/assets/js/15.4fac6b09.js"><link rel="prefetch" href="/assets/js/150.b2e4c6fb.js"><link rel="prefetch" href="/assets/js/151.3673586d.js"><link rel="prefetch" href="/assets/js/152.52ffb437.js"><link rel="prefetch" href="/assets/js/153.6c759fc1.js"><link rel="prefetch" href="/assets/js/154.4d0c63ac.js"><link rel="prefetch" href="/assets/js/155.c3d13b01.js"><link rel="prefetch" href="/assets/js/156.d8441c9a.js"><link rel="prefetch" href="/assets/js/157.aaccf8dc.js"><link rel="prefetch" href="/assets/js/158.e7a64fb3.js"><link rel="prefetch" href="/assets/js/159.9730ba06.js"><link rel="prefetch" href="/assets/js/16.23ded011.js"><link rel="prefetch" href="/assets/js/160.53df5bb4.js"><link rel="prefetch" href="/assets/js/161.0762f8a0.js"><link rel="prefetch" href="/assets/js/162.f2cac1ee.js"><link rel="prefetch" href="/assets/js/163.d2e7b707.js"><link rel="prefetch" href="/assets/js/164.babc4142.js"><link rel="prefetch" href="/assets/js/165.82366d5d.js"><link rel="prefetch" href="/assets/js/166.558d8d79.js"><link rel="prefetch" href="/assets/js/167.1c3eb22a.js"><link rel="prefetch" href="/assets/js/168.12c30145.js"><link rel="prefetch" href="/assets/js/169.591c0579.js"><link rel="prefetch" href="/assets/js/17.ac2950f0.js"><link rel="prefetch" href="/assets/js/170.c688a65a.js"><link rel="prefetch" href="/assets/js/171.c0f40aa0.js"><link rel="prefetch" href="/assets/js/172.f415fdc2.js"><link rel="prefetch" href="/assets/js/173.4d496e21.js"><link rel="prefetch" href="/assets/js/174.3d3ac8c2.js"><link rel="prefetch" href="/assets/js/175.f8230c9b.js"><link rel="prefetch" href="/assets/js/176.2e705b2e.js"><link rel="prefetch" href="/assets/js/177.373669bf.js"><link rel="prefetch" href="/assets/js/178.c7283304.js"><link rel="prefetch" href="/assets/js/179.80fb1279.js"><link rel="prefetch" href="/assets/js/18.5e4bb2f2.js"><link rel="prefetch" href="/assets/js/180.34a7e083.js"><link rel="prefetch" href="/assets/js/181.add69679.js"><link rel="prefetch" href="/assets/js/182.91b8b6cf.js"><link rel="prefetch" href="/assets/js/183.fc63caf8.js"><link rel="prefetch" href="/assets/js/184.cf024b35.js"><link rel="prefetch" href="/assets/js/185.dc2c3287.js"><link rel="prefetch" href="/assets/js/186.80fd9cf0.js"><link rel="prefetch" href="/assets/js/187.10b38066.js"><link rel="prefetch" href="/assets/js/188.5a620559.js"><link rel="prefetch" href="/assets/js/189.a927b3bf.js"><link rel="prefetch" href="/assets/js/19.fc36f143.js"><link rel="prefetch" href="/assets/js/190.07f26f5b.js"><link rel="prefetch" href="/assets/js/191.255da2ae.js"><link rel="prefetch" href="/assets/js/192.2fdef6a9.js"><link rel="prefetch" href="/assets/js/193.06407c0c.js"><link rel="prefetch" href="/assets/js/194.a90ebece.js"><link rel="prefetch" href="/assets/js/195.29fd1859.js"><link rel="prefetch" href="/assets/js/196.bf4341d6.js"><link rel="prefetch" href="/assets/js/197.4a9de1f8.js"><link rel="prefetch" href="/assets/js/198.8e492034.js"><link rel="prefetch" href="/assets/js/199.44b011f4.js"><link rel="prefetch" href="/assets/js/20.27ddb070.js"><link rel="prefetch" href="/assets/js/200.5f36ce6a.js"><link rel="prefetch" href="/assets/js/201.d051709e.js"><link rel="prefetch" href="/assets/js/202.530dad58.js"><link rel="prefetch" href="/assets/js/203.17f0fa78.js"><link rel="prefetch" href="/assets/js/204.d1159327.js"><link rel="prefetch" href="/assets/js/205.0a87b476.js"><link rel="prefetch" href="/assets/js/206.392ee339.js"><link rel="prefetch" href="/assets/js/207.ee568386.js"><link rel="prefetch" href="/assets/js/21.14e54ac0.js"><link rel="prefetch" href="/assets/js/22.5362d869.js"><link rel="prefetch" href="/assets/js/23.18fda006.js"><link rel="prefetch" href="/assets/js/24.e0671235.js"><link rel="prefetch" href="/assets/js/25.eb171991.js"><link rel="prefetch" href="/assets/js/26.f0f7ebb1.js"><link rel="prefetch" href="/assets/js/27.e24f3e01.js"><link rel="prefetch" href="/assets/js/28.16002380.js"><link rel="prefetch" href="/assets/js/29.b96343b6.js"><link rel="prefetch" href="/assets/js/3.0d1e2d80.js"><link rel="prefetch" href="/assets/js/30.3eec7bbe.js"><link rel="prefetch" href="/assets/js/31.14405f4b.js"><link rel="prefetch" href="/assets/js/32.63b839d1.js"><link rel="prefetch" href="/assets/js/33.4a3e5403.js"><link rel="prefetch" href="/assets/js/34.518cbe50.js"><link rel="prefetch" href="/assets/js/35.ef5109b4.js"><link rel="prefetch" href="/assets/js/36.c871f4f8.js"><link rel="prefetch" href="/assets/js/37.0ece2671.js"><link rel="prefetch" href="/assets/js/38.d9c89344.js"><link rel="prefetch" href="/assets/js/4.f57222e0.js"><link rel="prefetch" href="/assets/js/40.2d3d294b.js"><link rel="prefetch" href="/assets/js/41.e7810f61.js"><link rel="prefetch" href="/assets/js/42.3fa9566c.js"><link rel="prefetch" href="/assets/js/43.ca366d09.js"><link rel="prefetch" href="/assets/js/44.4989768a.js"><link rel="prefetch" href="/assets/js/45.7466801d.js"><link rel="prefetch" href="/assets/js/46.4df57324.js"><link rel="prefetch" href="/assets/js/47.901e6c60.js"><link rel="prefetch" href="/assets/js/48.307f3d2f.js"><link rel="prefetch" href="/assets/js/49.9decd94d.js"><link rel="prefetch" href="/assets/js/5.9dffc834.js"><link rel="prefetch" href="/assets/js/50.2131e069.js"><link rel="prefetch" href="/assets/js/51.e78e4b5a.js"><link rel="prefetch" href="/assets/js/52.70ab91b6.js"><link rel="prefetch" href="/assets/js/53.eaa6f0a4.js"><link rel="prefetch" href="/assets/js/54.c85dda47.js"><link rel="prefetch" href="/assets/js/55.908c9933.js"><link rel="prefetch" href="/assets/js/56.b5e730a4.js"><link rel="prefetch" href="/assets/js/57.93abcce1.js"><link rel="prefetch" href="/assets/js/58.1d8ac2c3.js"><link rel="prefetch" href="/assets/js/59.9e2d16c9.js"><link rel="prefetch" href="/assets/js/6.a1c74fcd.js"><link rel="prefetch" href="/assets/js/60.23316df9.js"><link rel="prefetch" href="/assets/js/61.dd7fef6c.js"><link rel="prefetch" href="/assets/js/62.1f99b384.js"><link rel="prefetch" href="/assets/js/63.12f80bcc.js"><link rel="prefetch" href="/assets/js/64.ec2c56df.js"><link rel="prefetch" href="/assets/js/65.d74318cf.js"><link rel="prefetch" href="/assets/js/66.e3a64901.js"><link rel="prefetch" href="/assets/js/67.ab53b0b9.js"><link rel="prefetch" href="/assets/js/68.ae7cab1b.js"><link rel="prefetch" href="/assets/js/69.07ad46e2.js"><link rel="prefetch" href="/assets/js/70.5de26513.js"><link rel="prefetch" href="/assets/js/71.fce3ecaa.js"><link rel="prefetch" href="/assets/js/72.303b6432.js"><link rel="prefetch" href="/assets/js/73.c286832f.js"><link rel="prefetch" href="/assets/js/74.4523e36c.js"><link rel="prefetch" href="/assets/js/75.e5633273.js"><link rel="prefetch" href="/assets/js/76.5e3a2028.js"><link rel="prefetch" href="/assets/js/77.ba3114d5.js"><link rel="prefetch" href="/assets/js/78.ccb476b1.js"><link rel="prefetch" href="/assets/js/79.4006e58e.js"><link rel="prefetch" href="/assets/js/8.58388833.js"><link rel="prefetch" href="/assets/js/80.7a996f28.js"><link rel="prefetch" href="/assets/js/81.d8ab3e60.js"><link rel="prefetch" href="/assets/js/82.8cfb4a9c.js"><link rel="prefetch" href="/assets/js/83.24c596f9.js"><link rel="prefetch" href="/assets/js/84.fe1b5e78.js"><link rel="prefetch" href="/assets/js/85.39094bd3.js"><link rel="prefetch" href="/assets/js/86.d7569df3.js"><link rel="prefetch" href="/assets/js/87.b634e8f4.js"><link rel="prefetch" href="/assets/js/88.fa76e7f8.js"><link rel="prefetch" href="/assets/js/89.12514e4e.js"><link rel="prefetch" href="/assets/js/9.da8464c7.js"><link rel="prefetch" href="/assets/js/90.52202cf6.js"><link rel="prefetch" href="/assets/js/91.ea0e88ba.js"><link rel="prefetch" href="/assets/js/92.eadea5b4.js"><link rel="prefetch" href="/assets/js/93.6f5af6a0.js"><link rel="prefetch" href="/assets/js/94.61e0b8bb.js"><link rel="prefetch" href="/assets/js/95.1df738f5.js"><link rel="prefetch" href="/assets/js/96.91aaaa5d.js"><link rel="prefetch" href="/assets/js/97.6619c14f.js"><link rel="prefetch" href="/assets/js/98.3dcdfb56.js"><link rel="prefetch" href="/assets/js/99.2c1c8399.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.20c11dcf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ea5e502b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>xiaoc的博客</h3> <p class="description" data-v-59e6cb88></p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.jpg" alt="xiaoc的博客" class="logo"> <span class="site-name">xiaoc的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  文档
</a></div><div class="nav-item"><a href="/Javascript/" class="nav-link"><i class="iconfont reco-api"></i>
  Javascript
</a></div><div class="nav-item"><a href="/ECMAScript6/" class="nav-link"><i class="iconfont reco-api"></i>
  ECMAScript6
</a></div><div class="nav-item"><a href="/Typescript/" class="nav-link"><i class="iconfont reco-api"></i>
  Typescript
</a></div><div class="nav-item"><a href="/css/" class="nav-link"><i class="iconfont reco-api"></i>
  Css
</a></div><div class="nav-item"><a href="https://github.com/xiaocking" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>169</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active"><i class="iconfont reco-document"></i>
  文档
</a></div><div class="nav-item"><a href="/Javascript/" class="nav-link"><i class="iconfont reco-api"></i>
  Javascript
</a></div><div class="nav-item"><a href="/ECMAScript6/" class="nav-link"><i class="iconfont reco-api"></i>
  ECMAScript6
</a></div><div class="nav-item"><a href="/Typescript/" class="nav-link"><i class="iconfont reco-api"></i>
  Typescript
</a></div><div class="nav-item"><a href="/css/" class="nav-link"><i class="iconfont reco-api"></i>
  Css
</a></div><div class="nav-item"><a href="https://github.com/xiaocking" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/web/drawingBoard/drwaingBoard.html" class="sidebar-link">Javascript 实现简单画板</a></li><li><a href="/guide/web/errorHandler/" class="sidebar-link">vue 全局异常捕获</a></li><li><a href="/guide/web/qiankun/" class="sidebar-link">Qiankun 微前端框架初探(vue2)</a></li><li><a href="/guide/web/storageLib/" class="sidebar-link">lz-storage-lib</a></li><li><a href="/guide/web/taroUpdate/taroUpdate.html" class="sidebar-link">Taro 升级 2.x 最新版本</a></li><li><a href="/guide/web/vue/" class="sidebar-link">Vue 笔记</a></li><li><a href="/guide/web/vue-auto-load-router/" class="sidebar-link">vue 自动注入路由、公共组件</a></li><li><a href="/guide/web/vue3-project/" class="sidebar-link">搭建 vue3 规范的项目环境</a></li><li><a href="/guide/web/vue3-treeTransfer/" class="sidebar-link">vue3 基于 element-plus 扩展树形穿梭框</a></li><li><a href="/guide/web/vueconfig/" class="sidebar-link">vue/cli 简单实用配置</a></li><li><a href="/guide/web/x-dialog/" class="sidebar-link">在线客服弹窗</a></li><li><a href="/guide/web/z-codeSegment/codeSegment.html" aria-current="page" class="active sidebar-link">代码片段</a></li><li><a href="/guide/web/z-problem/problem.html" class="sidebar-link">常见问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>插件/工具相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/tools/airbnb/" class="sidebar-link">Airbnb JavaScript 风格指南</a></li><li><a href="/guide/tools/eslintrc/eslintrc.html" class="sidebar-link">.eslintrc 配置详解</a></li><li><a href="/guide/tools/fiddler/" class="sidebar-link">Fiddler 抓包安装使用</a></li><li><a href="/guide/tools/git/git.html" class="sidebar-link">Git 安装使用</a></li><li><a href="/guide/tools/miniProgramCi/miniProgramCi.html" class="sidebar-link">uni-app 微信小程序自动上传版本</a></li><li><a href="/guide/tools/prettier/prettier.html" class="sidebar-link">.prettierrc 配置详解</a></li><li><a href="/guide/tools/toolset/toolset.html" class="sidebar-link">常用框架及工具整理</a></li><li><a href="/guide/tools/tsconfig/tsconfig.html" class="sidebar-link">tsconfig.json 配置详解</a></li><li><a href="/guide/tools/vscodePlugin/vscodePlugin.html" class="sidebar-link">VS Code常用插件</a></li><li><a href="/guide/tools/webpack/webpack.html" class="sidebar-link">webpack 常用插件</a></li><li><a href="/guide/tools/yarn/yarn.html" class="sidebar-link">yarn 安装使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>nodeJs相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/nodeJs/httpServer/" class="sidebar-link">http-server 安装使用</a></li><li><a href="/guide/nodeJs/mongo-command/" class="sidebar-link">mongo 常用命令</a></li><li><a href="/guide/nodeJs/mongoDB-install/" class="sidebar-link">mongoDB 安装配置</a></li><li><a href="/guide/nodeJs/mongoose/" class="sidebar-link">mongoose 相关</a></li><li><a href="/guide/nodeJs/node-video/" class="sidebar-link">NodeJs 实现简单视频播放</a></li><li><a href="/guide/nodeJs/nodeJs/" class="sidebar-link">nodeJs 相关</a></li><li><a href="/guide/nodeJs/nodeJs-mall/" class="sidebar-link">nodeJs 邮件发送</a></li><li><a href="/guide/nodeJs/nodeTree/" class="sidebar-link">NodeJs 生成本地文件树</a></li><li><a href="/guide/nodeJs/npm/" class="sidebar-link">NPM 相关</a></li><li><a href="/guide/nodeJs/nrm/" class="sidebar-link">nrm 安装使用</a></li><li><a href="/guide/nodeJs/nvm/" class="sidebar-link">nvm 安装使用</a></li><li><a href="/guide/nodeJs/pnpm/" class="sidebar-link">pnpm 相关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Linux相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/Linux/code-server/code-server.html" class="sidebar-link">vscode 远程开发</a></li><li><a href="/guide/Linux/linux-command/" class="sidebar-link">Linux 命令</a></li><li><a href="/guide/Linux/linux-install-nodeJs/" class="sidebar-link">Linux 安装 nodeJs</a></li><li><a href="/guide/Linux/linux-set-auth/" class="sidebar-link">Linux 设置 root 权限</a></li><li><a href="/guide/Linux/nginx/nginx.html" class="sidebar-link">Linux 安装 nginx</a></li><li><a href="/guide/Linux/sn/" class="sidebar-link">screen 命令</a></li><li><a href="/guide/Linux/ss/" class="sidebar-link">Linux 搭建 vps</a></li><li><a href="/guide/Linux/updateCore/" class="sidebar-link">CentOs7 升级/更新内核</a></li><li><a href="/guide/Linux/vnc-viewer/" class="sidebar-link">Centos7搭建使用图形化界面</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/other/cdn/" class="sidebar-link">使用 CDN 加载项目静态资源</a></li><li><a href="/guide/other/gitee/gitee.html" class="sidebar-link">Gitee Page搭建个人博客</a></li><li><a href="/guide/other/githubPages/GitHubPages.html" class="sidebar-link">Github Pages 建立个人博客网站</a></li><li><a href="/guide/other/gitlab_ci_cd/" class="sidebar-link">Gitlab 配置 CI/CD</a></li><li><a href="/guide/other/jenkins/" class="sidebar-link">jenkins 安装配置</a></li><li><a href="/guide/other/markdown/" class="sidebar-link">Markdown 相关语法</a></li><li><a href="/guide/other/open_with_code/" class="sidebar-link">win10 使用 vscode 打开文件(夹)</a></li><li><a href="/guide/other/vuepress/" class="sidebar-link">Vuepress markdown扩展语法</a></li><li><a href="/guide/other/vuepress-emoji/" class="sidebar-link">vuepress 所有支持的 Emoji</a></li><li><a href="/guide/other/windows/" class="sidebar-link">windows 相关</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">代码片段</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="代码片段"><a href="#代码片段" class="header-anchor">#</a> 代码片段</h1> <h2 id="post-文件流下载文件"><a href="#post-文件流下载文件" class="header-anchor">#</a> POST 文件流下载文件</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// urlencode编码解码</span>
<span class="token comment">// 编码函数：encodeURIComponent()</span>
<span class="token comment">// 解码函数：decodeURIComponent()</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>api
  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
    <span class="token string">'record/export'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token operator">...</span>params <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">'blob'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 下载excel</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> search <span class="token operator">=</span> <span class="token string">'filename='</span>
    <span class="token keyword">var</span> start <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span> <span class="token comment">//获得字符串的开始位置</span>
    <span class="token keyword">const</span> URInfo <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>start <span class="token operator">+</span> search<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">//截取字符串获取url格式文件名</span>
    <span class="token keyword">const</span> fileName <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>URInfo<span class="token punctuation">)</span> <span class="token comment">//url解码获取文件名</span>

    <span class="token keyword">const</span> content <span class="token operator">=</span> response<span class="token punctuation">.</span>data
    <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'download'</span> <span class="token keyword">in</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 非IE下载</span>
      <span class="token keyword">const</span> elink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
      elink<span class="token punctuation">.</span>download <span class="token operator">=</span> fileName
      elink<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
      elink<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elink<span class="token punctuation">)</span>
      elink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>elink<span class="token punctuation">.</span>href<span class="token punctuation">)</span> <span class="token comment">// 释放URL 对象</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>elink<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// IE10+下载</span>
      navigator<span class="token punctuation">.</span><span class="token function">msSaveBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="地图坐标转换"><a href="#地图坐标转换" class="header-anchor">#</a> 地图坐标转换</h2> <blockquote><p>国内各地图 API 坐标系统比较
<img src="/assets/img/map.498a575e.png" alt="国内地图坐标类型"></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 火星坐标转百度坐标</span>
<span class="token keyword">function</span> <span class="token function">gcj02_to_bd09</span><span class="token punctuation">(</span><span class="token parameter">lng<span class="token punctuation">,</span> lat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>lng <span class="token operator">*</span> lng <span class="token operator">+</span> lat <span class="token operator">*</span> lat<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.00002</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>lat <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> theta <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>lat<span class="token punctuation">,</span> lng<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.000003</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>lng <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">lng</span><span class="token operator">:</span> z <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.0065</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> z <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0.006</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 百度坐标转火星坐标</span>
<span class="token keyword">function</span> <span class="token function">bd09_to_gcj02</span><span class="token punctuation">(</span><span class="token parameter">lng<span class="token punctuation">,</span> lat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> lng <span class="token operator">-</span> <span class="token number">0.0065</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> lat <span class="token operator">-</span> <span class="token number">0.006</span>
  <span class="token keyword">var</span> z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.00002</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>y <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> theta <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.000003</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>x <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">lng</span><span class="token operator">:</span> z <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> z <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>theta<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取两个坐标之间的距离</span>
<span class="token keyword">function</span> <span class="token function">GetDistance</span><span class="token punctuation">(</span><span class="token parameter">lng1<span class="token punctuation">,</span> lat1<span class="token punctuation">,</span> lng2<span class="token punctuation">,</span> lat2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> radLat1 <span class="token operator">=</span> <span class="token punctuation">(</span>lat1 <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180.0</span>
  <span class="token keyword">var</span> radLat2 <span class="token operator">=</span> <span class="token punctuation">(</span>lat2 <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180.0</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> radLat1 <span class="token operator">-</span> radLat2
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">(</span>lng1 <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180.0</span> <span class="token operator">-</span> <span class="token punctuation">(</span>lng2 <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180.0</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span>
    <span class="token number">2</span> <span class="token operator">*</span>
    Math<span class="token punctuation">.</span><span class="token function">asin</span><span class="token punctuation">(</span>
      Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>a <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>radLat1<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>radLat2<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>b <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  s <span class="token operator">=</span> s <span class="token operator">*</span> <span class="token number">6378.137</span> <span class="token comment">// 地球半径;</span>
  s <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>s <span class="token operator">*</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10000</span>
  <span class="token keyword">return</span> s <span class="token comment">// 单位为km</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="文字超出隐藏"><a href="#文字超出隐藏" class="header-anchor">#</a> 文字超出隐藏</h2> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/*1. 单行超出隐藏 */</span>
<span class="token selector">.xxx</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/*宽度*/</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span> <span class="token comment">/*超出的空白区域不换行*/</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token comment">/*超出隐藏*/</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span> <span class="token comment">/*文本超出显示省略号*/</span>
<span class="token punctuation">}</span>

<span class="token comment">/*2. 多行溢出隐藏显示...(在文字的容器上设置)  只兼容webkit内核的浏览器*/</span>
<span class="token selector">.xxx</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span> <span class="token comment">/*将对象转为弹性盒模型展示*/</span>
  <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span> <span class="token comment">/*设置弹性盒模型子元素的排列方式*/</span>
  <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span> <span class="token comment">/*限制文本行数*/</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span> <span class="token comment">/*超出隐藏*/</span>
<span class="token punctuation">}</span>

<span class="token comment">/*3.多行溢出隐藏显示...(跨浏览器兼容+伪元素定位)*/</span>
<span class="token selector">.xxx</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.4em<span class="token punctuation">;</span> <span class="token comment">/*行高和height成倍数，这里以三行文本超出隐藏举例*/</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 4.2em<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.xxx::after</span> <span class="token punctuation">{</span>
  <span class="token comment">/*若要兼容IE8需用:after*/</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">;</span> <span class="token comment">/*替换内容比较灵活*/</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 3px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span> <span class="token comment">/*颜色和文字背景保持一致*/</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 10px #fff<span class="token punctuation">;</span> <span class="token comment">/*边缘处理*/</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="禁止文本选中"><a href="#禁止文本选中" class="header-anchor">#</a> 禁止文本选中</h2> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* pc */</span>
<span class="token selector">.not-select</span><span class="token punctuation">{</span>
  <span class="token property">-moz-user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>    <span class="token comment">/*火狐*/</span>
  <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span> <span class="token comment">/*webkit浏览器*/</span>
  <span class="token property">-ms-user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>     <span class="token comment">/*IE10*/</span>
  <span class="token property">-khtml-user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>  <span class="token comment">/*早期浏览器*/</span>
  <span class="token property">user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* wap */</span>
<span class="token selector">.no-touch</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-touch-callout</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">-khtml-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* js 禁止文本选中 */</span>
ontouchstart<span class="token operator">=</span><span class="token string">&quot;return false;&quot;</span>
</code></pre></div><h2 id="css-初始化"><a href="#css-初始化" class="header-anchor">#</a> CSS 初始化</h2> <h3 id="web"><a href="#web" class="header-anchor">#</a> web</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@charset</span> <span class="token string">'utf-8'</span><span class="token punctuation">;</span></span>

<span class="token comment">/* ===== 初始化样式 ===== */</span>
<span class="token selector">body,
div,
dl,
dt,
dd,
ul,
ol,
li,
h1,
h2,
h3,
h4,
h5,
h6,
pre,
code,
form,
fieldset,
legend,
input,
button,
textarea,
p,
blockquote,
th,
td</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #555<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Verdana<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">td,
th,
caption</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">h1,
h2,
h3,
h4,
h5,
h6</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">address,
caption,
cite,
code,
dfn,
em,
strong,
th,
var</span> <span class="token punctuation">{</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #555<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a:hover</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">img</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">ol,
ul,
li</span> <span class="token punctuation">{</span>
  <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">input,
textarea,
select,
button</span> <span class="token punctuation">{</span>
  <span class="token property">font</span><span class="token punctuation">:</span> 14px Verdana<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">table</span> <span class="token punctuation">{</span>
  <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* ===== 公共样式 ===== */</span>
<span class="token comment">/* 浮动 */</span>
<span class="token selector">.fl</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fr</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 清除浮动 */</span>
<span class="token selector">.clearfix:after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.clearfix</span> <span class="token punctuation">{</span>
  *<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 吸顶效果 */</span>
<span class="token selector">.sticky</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 单行文字超出显示... */</span>
<span class="token selector">.ellipsis1</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 强制不换行 */</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token comment">/* 文本超出省略 */</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 多行文本超出隐藏 */</span>
<span class="token selector">.ellipsis2</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
  <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
  <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="wap"><a href="#wap" class="header-anchor">#</a> wap</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@charset</span> <span class="token string">'utf-8'</span><span class="token punctuation">;</span></span>

<span class="token comment">/* ===== 初始化样式 ===== */</span>
<span class="token selector">body,
div,
ul,
li,
ol,
h1,
h2,
h3,
h4,
h5,
h6,
input,
textarea,
select,
p,
dl,
dt,
dd,
a,
img,
button,
form,
table,
th,
tr,
td,
tbody,
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
menu,
nav,
section</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font</span><span class="token punctuation">:</span> 12px/1.5 <span class="token string">'Microsoft YaHei'</span><span class="token punctuation">,</span> <span class="token string">'宋体'</span><span class="token punctuation">,</span> Tahoma<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #555<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">em,
i,
strong</span> <span class="token punctuation">{</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #555<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Microsoft YaHei'</span><span class="token punctuation">,</span> Tahoma<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 移动端点击a链接出现蓝色背景问题解决 */</span>
<span class="token selector">a:link,
a:active,
a:visited,
a:hover</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">ul,
ol</span> <span class="token punctuation">{</span>
  <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">li</span> <span class="token punctuation">{</span>
  <span class="token property">list-style-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">h1,
h2,
h3,
h4,
h5,
h6</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Microsoft YaHei'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Microsoft YaHei'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 设置HTML5元素为块 */</span>
<span class="token selector">article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
menu,
nav,
section</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 图片自适应 */</span>
<span class="token selector">img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> auto\9<span class="token punctuation">;</span> <span class="token comment">/* ie8 */</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">-ms-interpolation-mode</span><span class="token punctuation">:</span> bicubic<span class="token punctuation">;</span> <span class="token comment">/*为了照顾ie图片缩放失真*/</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 禁用iPhone中Safari的字号自动调整 */</span>
<span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-text-size-adjust</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">-ms-text-size-adjust</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token comment">/* 解决IOS默认滑动很卡的情况 */</span>
  <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 禁止缩放表单 */</span>
<span class="token selector">input[type='“submit”'],
input[type='“reset”'],
input[type='“button”'],
input</span> <span class="token punctuation">{</span>
  <span class="token property">resize</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* ===== 公共样式 ===== */</span>

<span class="token comment">/* 浮动 */</span>
<span class="token selector">.fl</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fr</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 清除浮动 */</span>
<span class="token selector">.clearfix:after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
  <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.clearfix</span> <span class="token punctuation">{</span>
  *<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 吸顶效果 */</span>
<span class="token selector">.sticky</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 单行文字超出显示... */</span>
<span class="token selector">.ellipsis1</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 强制不换行 */</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token comment">/* 文本超出省略 */</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 多行文本超出隐藏 */</span>
<span class="token selector">.ellipsis2</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
  <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
  <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.db</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.dn</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="一行背景代码"><a href="#一行背景代码" class="header-anchor">#</a> 一行背景代码</h2> <div class="language-css extra-class"><pre class="language-css"><code> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">repeating-conic-gradient</span><span class="token punctuation">(</span>#fff<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> #fff 0.5deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/cssbg.6f070915.png" alt="css背景"></p> <h2 id="修改全局滚动条样式"><a href="#修改全局滚动条样式" class="header-anchor">#</a> 修改全局滚动条样式</h2> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 修改全局滚动条样式 */</span>
<span class="token selector">::-webkit-scrollbar</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span> <span class="token comment">/* 纵向滚动条*/</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span> <span class="token comment">/* 横向滚动条 */</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*定义滚动条轨道 内阴影*/</span>
<span class="token selector">::-webkit-scrollbar-track</span> <span class="token punctuation">{</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 0 6px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*定义滑块 内阴影*/</span>
<span class="token selector">::-webkit-scrollbar-thumb</span> <span class="token punctuation">{</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 0 6px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #1890ff<span class="token punctuation">;</span> <span class="token comment">/* 配置为主色调 */</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="node获取本机ip"><a href="#node获取本机ip" class="header-anchor">#</a> node获取本机ip</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">///获取本机ip///</span>
<span class="token keyword">function</span> <span class="token function">getIPAdress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> interfaces <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">networkInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> devName <span class="token keyword">in</span> interfaces<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> iface <span class="token operator">=</span> interfaces<span class="token punctuation">[</span>devName<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> iface<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> alias <span class="token operator">=</span> iface<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>alias<span class="token punctuation">.</span>family <span class="token operator">===</span> <span class="token string">'IPv4'</span> <span class="token operator">&amp;&amp;</span> alias<span class="token punctuation">.</span>address <span class="token operator">!==</span> <span class="token string">'127.0.0.1'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>alias<span class="token punctuation">.</span>internal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> alias<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> myHost <span class="token operator">=</span> <span class="token function">getIPAdress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="修改placeholder颜色"><a href="#修改placeholder颜色" class="header-anchor">#</a> 修改placeholder颜色</h2> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">::-webkit-input-placeholder</span> <span class="token punctuation">{</span> <span class="token comment">/* WebKit browsers */</span>
    <span class="token property">color</span><span class="token punctuation">:</span>    #999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:-moz-placeholder</span> <span class="token punctuation">{</span> <span class="token comment">/* Mozilla Firefox 4 to 18 */</span>
    <span class="token property">color</span><span class="token punctuation">:</span>    #999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">::-moz-placeholder</span> <span class="token punctuation">{</span> <span class="token comment">/* Mozilla Firefox 19+ */</span>
    <span class="token property">color</span><span class="token punctuation">:</span>    #999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:-ms-input-placeholder</span> <span class="token punctuation">{</span> <span class="token comment">/* Internet Explorer 10+ */</span>
    <span class="token property">color</span><span class="token punctuation">:</span>    #999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="pre标签样式美化"><a href="#pre标签样式美化" class="header-anchor">#</a> pre标签样式美化</h2> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">pre</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span>#444<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>15px auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>20px 15px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span>3px dashed #ddd<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span>8px solid #bbb<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span>#fff <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAmCAIAAACphTeFAAAAJElEQVRIx2N4RS5gGNU5qnNU56hOZJ2fyQWjOkd1juoc1YkMAKDL4lkok3p7AAAAAElFTkSuQmCC'</span><span class="token punctuation">)</span></span> repeat<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span>pre-wrap<span class="token punctuation">;</span>
  <span class="token property">word-wrap</span><span class="token punctuation">:</span>break-word<span class="token punctuation">;</span>
  <span class="token property">letter-spacing</span><span class="token punctuation">:</span>1.5px<span class="token punctuation">;</span>
  <span class="token property">font</span><span class="token punctuation">:</span>14px/25px <span class="token string">'宋体'</span><span class="token punctuation">,</span> <span class="token string">'新宋体'</span><span class="token punctuation">,</span> <span class="token string">'Comic Sans MS'</span><span class="token punctuation">,</span><span class="token string">'courier new'</span><span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span>22px<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span>100% 44px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/pre_css.3f690a99.jpg" alt="pre样式美化"></p> <h2 id="清除所有cookies"><a href="#清除所有cookies" class="header-anchor">#</a> 清除所有cookies</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">clearCookie</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> keys <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^ =;]+(?==)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span>cookie <span class="token operator">=</span>
        keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span>
        <span class="token string">&quot;=0;expires=&quot;</span> <span class="token operator">+</span>
        <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        <span class="token string">&quot;;max-age=0&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="js小数运算处理"><a href="#js小数运算处理" class="header-anchor">#</a> js小数运算处理</h2> <blockquote><p>解决js小数运算出现精度丢失问题</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">floatMul</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> s1 <span class="token operator">=</span> arg1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> s2 <span class="token operator">=</span> arg2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      m <span class="token operator">+=</span> s1<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      m <span class="token operator">+=</span> s2<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">Number</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment">/**
 * 加法运算
 * @param a
 * @param b
 * @returns {Number}
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">numberAdd</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> a <span class="token operator">||</span> a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> a <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      a <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> b <span class="token operator">||</span> b <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> b <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      b <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      c <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      d <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      d <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    e <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">floatMul</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">floatMul</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> e
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 减法运算
   * @param a
   * @param b
   * @returns {Number}
   */</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">numberSub</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> a <span class="token operator">||</span> a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> a <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      a <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">==</span> b <span class="token operator">||</span> b <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> b <span class="token operator">==</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      b <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      c <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      d <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      d <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    e <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">floatMul</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">floatMul</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> e
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 乘法运算
   * @param a
   * @param b
   * @returns {Number}
   */</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">numberMul</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">let</span> d <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> e <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      c <span class="token operator">+=</span> d<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      c <span class="token operator">+=</span> e<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">Number</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/**
   * 除法运算
   * @param a
   * @param b
   * @returns
   */</span>
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">numberDiv</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> c<span class="token punctuation">,</span> d
    <span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      e <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      f <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// eslint-disable-next-line no-sequences</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">floatMul</span><span class="token punctuation">(</span>c <span class="token operator">/</span> d<span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> f <span class="token operator">-</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="金额"><a href="#金额" class="header-anchor">#</a> 金额</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 数字金额转中文金额</span>
<span class="token keyword">function</span> <span class="token function">changeNumMoneyToChinese</span><span class="token punctuation">(</span><span class="token parameter">money</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> cnNums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;零&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;壹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;贰&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;叁&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;肆&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;伍&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;陆&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;柒&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;捌&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;玖&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//汉字的数字</span>
  <span class="token keyword">var</span> cnIntRadice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;拾&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;佰&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;仟&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//基本单位</span>
  <span class="token keyword">var</span> cnIntUnits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;万&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;亿&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;兆&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//对应整数部分扩展单位</span>
  <span class="token keyword">var</span> cnDecUnits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;角&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;分&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;毫&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;厘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//对应小数部分单位</span>
  <span class="token keyword">var</span> cnInteger <span class="token operator">=</span> <span class="token string">&quot;整&quot;</span><span class="token punctuation">;</span> <span class="token comment">//整数金额时后面跟的字符</span>
  <span class="token keyword">var</span> cnIntLast <span class="token operator">=</span> <span class="token string">&quot;元&quot;</span><span class="token punctuation">;</span> <span class="token comment">//整型完以后的单位</span>
  <span class="token keyword">var</span> maxNum <span class="token operator">=</span> <span class="token number">999999999999999.9999</span><span class="token punctuation">;</span> <span class="token comment">//最大处理的数字</span>
  <span class="token keyword">var</span> IntegerNum<span class="token punctuation">;</span> <span class="token comment">//金额整数部分</span>
  <span class="token keyword">var</span> DecimalNum<span class="token punctuation">;</span> <span class="token comment">//金额小数部分</span>
  <span class="token keyword">var</span> ChineseStr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">//输出的中文金额字符串</span>
  <span class="token keyword">var</span> parts<span class="token punctuation">;</span> <span class="token comment">//分离金额后用的数组，预定义</span>
  <span class="token keyword">var</span> Symbol <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">//正负值标记</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  money <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money <span class="token operator">&gt;=</span> maxNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;超出最大处理数字&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ChineseStr <span class="token operator">=</span> cnNums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> cnIntLast <span class="token operator">+</span> cnInteger<span class="token punctuation">;</span>
    <span class="token keyword">return</span> ChineseStr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    money <span class="token operator">=</span> <span class="token operator">-</span>money<span class="token punctuation">;</span>
    Symbol <span class="token operator">=</span> <span class="token string">&quot;负 &quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  money <span class="token operator">=</span> money<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//转换为字符串</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>money<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    IntegerNum <span class="token operator">=</span> money<span class="token punctuation">;</span>
    DecimalNum <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    parts <span class="token operator">=</span> money<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IntegerNum <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    DecimalNum <span class="token operator">=</span> parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>IntegerNum<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//获取整型部分转换</span>
    <span class="token keyword">var</span> zeroCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> IntLen <span class="token operator">=</span> IntegerNum<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> IntLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> n <span class="token operator">=</span> IntegerNum<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> p <span class="token operator">=</span> IntLen <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> q <span class="token operator">=</span> p <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> m <span class="token operator">=</span> p <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        zeroCount<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>zeroCount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ChineseStr <span class="token operator">+=</span> cnNums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        zeroCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//归零</span>
        ChineseStr <span class="token operator">+=</span> cnNums<span class="token punctuation">[</span><span class="token function">parseInt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> cnIntRadice<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> zeroCount <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ChineseStr <span class="token operator">+=</span> cnIntUnits<span class="token punctuation">[</span>q<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    ChineseStr <span class="token operator">+=</span> cnIntLast<span class="token punctuation">;</span>
    <span class="token comment">//整型部分处理完毕</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>DecimalNum <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//小数部分</span>
    <span class="token keyword">var</span> decLen <span class="token operator">=</span> DecimalNum<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> decLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> n <span class="token operator">=</span> DecimalNum<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ChineseStr <span class="token operator">+=</span> cnNums<span class="token punctuation">[</span><span class="token function">Number</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> cnDecUnits<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ChineseStr <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ChineseStr <span class="token operator">+=</span> cnNums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> cnIntLast <span class="token operator">+</span> cnInteger<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>DecimalNum <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ChineseStr <span class="token operator">+=</span> cnInteger<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  ChineseStr <span class="token operator">=</span> Symbol <span class="token operator">+</span> ChineseStr<span class="token punctuation">;</span>

  <span class="token keyword">return</span> ChineseStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 千分位显示金额 sub是否加万</span>
<span class="token keyword">function</span> <span class="token function">formatPrice</span><span class="token punctuation">(</span><span class="token parameter">price<span class="token punctuation">,</span> sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  price <span class="token operator">=</span> price <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> fix <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sub <span class="token operator">&amp;&amp;</span> price <span class="token operator">&gt;</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    price <span class="token operator">=</span> <span class="token punctuation">(</span>price <span class="token operator">/</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    price <span class="token operator">=</span> price <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>
    fix <span class="token operator">=</span> <span class="token string">&quot;万&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    price<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token string">&quot;zh-CN&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&quot;currency&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">&quot;CNY&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">+</span> fix
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//¥999,999.00</span>
  <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\B(?=(\d{3})+(?!\d))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="日期时间格式化"><a href="#日期时间格式化" class="header-anchor">#</a> 日期时间格式化</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 日期时间格式化
 * @param type y:年；ym:年月；ymd:年月日；ymdh:年月日时；ymdhf:年月日时分；ymdhfs:年月日时分秒
 * @param style 1：y-m-d h:m:s  2:y年m月。。。
 * @returns {string}
 */</span>
<span class="token keyword">function</span> <span class="token function">getDateFormat</span><span class="token punctuation">(</span><span class="token parameter">date<span class="token punctuation">,</span> type<span class="token punctuation">,</span> style</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">&quot;ymdhfs&quot;</span><span class="token punctuation">;</span>
  style <span class="token operator">=</span> style <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> now <span class="token operator">=</span> date <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> year <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到年份</span>
  <span class="token keyword">var</span> month <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到月份</span>
  <span class="token keyword">var</span> date <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到日期</span>
  <span class="token keyword">var</span> day <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到周几</span>
  <span class="token keyword">var</span> hour <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到小时</span>
  <span class="token keyword">var</span> minu <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到分钟</span>
  <span class="token keyword">var</span> sec <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到秒</span>
  <span class="token keyword">var</span> <span class="token constant">MS</span> <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取毫秒</span>
  <span class="token keyword">var</span> week<span class="token punctuation">;</span>
  month <span class="token operator">=</span> month <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>month <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> month <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> month<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> date <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> date<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> hour <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> hour<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>minu <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> minu <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> minu<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sec <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> sec <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> sec<span class="token punctuation">;</span>
  <span class="token comment">// if (MS &lt; 10) MS = &quot;0&quot; + MS;</span>
  <span class="token comment">// var arr_week = new Array(&quot;星期日&quot;, &quot;星期一&quot;, &quot;星期二&quot;, &quot;星期三&quot;, &quot;星期四&quot;, &quot;星期五&quot;, &quot;星期六&quot;);</span>
  <span class="token comment">// week = arr_week[day];</span>
  <span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> time<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>year <span class="token operator">+</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;年&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> time<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>month <span class="token operator">+</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;月&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> time<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>date <span class="token operator">+</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot; &quot;</span> <span class="token operator">:</span> <span class="token string">&quot;日&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;h&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> time<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>hour <span class="token operator">+</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;时&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;f&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> time<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>minu <span class="token operator">+</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&quot;分&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> time<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sec <span class="token operator">+</span> <span class="token punctuation">(</span>style <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;秒&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   
  <span class="token comment">// time = year + &quot;-&quot; + month + &quot;-&quot; + date + &quot; &quot; + hour + &quot;:&quot; + minu + &quot;:&quot; + sec;</span>
  <span class="token keyword">return</span> time<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="数组转树形"><a href="#数组转树形" class="header-anchor">#</a> 数组转树形</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 转树形数组
 * @param {*} arr
 * @param {*} pid 父级数据id
 * @param {*} id 当前数据id
 * @returns
 */</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">arrToTreeArr</span><span class="token punctuation">(</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pid <span class="token operator">=</span> <span class="token string">&quot;pId&quot;</span><span class="token punctuation">,</span> id <span class="token operator">=</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> treeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _val <span class="token operator">=</span> <span class="token function">getObjByField</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> id<span class="token punctuation">,</span> val<span class="token punctuation">[</span>pid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//无上级</span>
      val<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token function">getObjArrByField</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> val<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      treeArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token parameter">children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> first</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      val<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token function">getObjArrByField</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> val<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token function">getChildren</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token keyword">return</span> children<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> treeArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/guide/web/x-dialog/" class="prev">
          在线客服弹窗
        </a></span> <span class="next"><a href="/guide/web/z-problem/problem.html">
          常见问题
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#post-文件流下载文件" class="sidebar-link reco-side-post-文件流下载文件" data-v-b57cc07c>POST 文件流下载文件</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#地图坐标转换" class="sidebar-link reco-side-地图坐标转换" data-v-b57cc07c>地图坐标转换</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#文字超出隐藏" class="sidebar-link reco-side-文字超出隐藏" data-v-b57cc07c>文字超出隐藏</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#禁止文本选中" class="sidebar-link reco-side-禁止文本选中" data-v-b57cc07c>禁止文本选中</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#css-初始化" class="sidebar-link reco-side-css-初始化" data-v-b57cc07c>CSS 初始化</a></li><li class="level-3" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#web" class="sidebar-link reco-side-web" data-v-b57cc07c>web</a></li><li class="level-3" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#wap" class="sidebar-link reco-side-wap" data-v-b57cc07c>wap</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#一行背景代码" class="sidebar-link reco-side-一行背景代码" data-v-b57cc07c>一行背景代码</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#修改全局滚动条样式" class="sidebar-link reco-side-修改全局滚动条样式" data-v-b57cc07c>修改全局滚动条样式</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#node获取本机ip" class="sidebar-link reco-side-node获取本机ip" data-v-b57cc07c>node获取本机ip</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#修改placeholder颜色" class="sidebar-link reco-side-修改placeholder颜色" data-v-b57cc07c>修改placeholder颜色</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#pre标签样式美化" class="sidebar-link reco-side-pre标签样式美化" data-v-b57cc07c>pre标签样式美化</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#清除所有cookies" class="sidebar-link reco-side-清除所有cookies" data-v-b57cc07c>清除所有cookies</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#js小数运算处理" class="sidebar-link reco-side-js小数运算处理" data-v-b57cc07c>js小数运算处理</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#金额" class="sidebar-link reco-side-金额" data-v-b57cc07c>金额</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#日期时间格式化" class="sidebar-link reco-side-日期时间格式化" data-v-b57cc07c>日期时间格式化</a></li><li class="level-2" data-v-b57cc07c><a href="/guide/web/z-codeSegment/codeSegment.html#数组转树形" class="sidebar-link reco-side-数组转树形" data-v-b57cc07c>数组转树形</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.5a23a2ab.js" defer></script><script src="/assets/js/7.4f4f69ac.js" defer></script><script src="/assets/js/2.890c3301.js" defer></script><script src="/assets/js/1.0e465a30.js" defer></script><script src="/assets/js/39.c181ec3d.js" defer></script>
  </body>
</html>
